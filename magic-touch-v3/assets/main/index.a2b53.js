System.register("chunks:///_virtual/AsyncHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,c,s,a,r,l;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){c=n.cclegacy,s=n._decorator,a=n.Node,r=n.director,l=n.Component}],execute:function(){var i,o;c._RF.push({},"5f4da7JwGlKabKvxuTYUVWL","AsyncHelper",void 0);var u=s.ccclass;s.property,n("AsyncHelper",u("AsyncHelper")(((o=function(n){function c(){for(var t,e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];return(t=n.call.apply(n,[this].concat(c))||this).callbacks=[],t}t(c,n),c.getInstance=function(){return null===this._instance&&(this._instance=new a("AsyncHelper").addComponent(c),this._instance.callbacks=[],r.addPersistRootNode(this._instance.node)),this._instance};var s=c.prototype;return s.ExecuteInUpdate=function(n,t){void 0===t&&(t=null),null!=t&&n.bind(t),this.callbacks.push(n)},s.update=function(n){for(var t=this.callbacks.length-1;t>=0;t--){var e=this.callbacks.pop();e&&e()}},e(c,null,[{key:"instance",get:function(){return this.getInstance()}}]),c}(l))._instance=null,i=o))||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/Bubble.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./EnemyManager.ts"],(function(t){"use strict";var n,e,o,i,a,s,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Animation,a=t.find,s=t.Component},function(t){r=t.NodePath},function(t){c=t.default}],execute:function(){var u;e._RF.push({},"5da305NWTJDtqRjSSRNNcTX","Bubble",void 0);var h=o.ccclass;o.property,t("default",h("Bubble")(u=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).anim=null,n.enemyManager=null,n.item=null,n}n(e,t);var o=e.prototype;return o.onLoad=function(){this.node.on("custom-touch-start",this.onTouchStart,this),this.anim=this.node.getComponent(i),this.enemyManager=a(r.GameManager+"/EnemyRoot").getComponent(c)},o.update=function(t){},o.onTouchStart=function(t){var n=this;this.node.off("custom-touch-start",this.onTouchStart,this),this.anim.play("collect"),this.item&&(this.node.removeAllChildren(),this.enemyManager.onMagicEffect(this.item)),this.anim.on("finished",(function(){n.node.parent.destroy()}))},o.setMagicItem=function(t){this.item=t},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonUtil.ts","./StorageUtil.ts","./Config.ts","./Bubble.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,u,c,s,b,f,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Node,c=e.instantiate,s=e.Component},function(e){b=e.getTargetPositionByAB,f=e.getRandom},function(e){d=e.StorageUtil},function(e){g=e.default},function(e){p=e.default}],execute:function(){var h,v,y,m,B;o._RF.push({},"cae8ak0KslNCrBhfH3z7ru+","BubbleManager",void 0);var P=a.ccclass,C=a.property;e("default",(h=P("BubbleManager"),v=C(l),h((B=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"bubblePrefab",B,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;this.node.on("build",(function(t){e.buildBubble(t)})),this.node.on("clear",(function(){e.node.destroyAllChildren()}))},o.buildBubble=function(e){var t=new u;t.parent=this.node,t.name="BubbleNode";var n=c(this.bubblePrefab);n.parent=t;var i=b(n,e);n.setWorldPosition(i.x,i.y-50,i.z);var r=d.getMagics(),o=null;if(r.length){var a=r[f(0,r.length-1)];o=g.magics[a],n.getChildByName("m_index_"+a).active=!0,n.getComponent(p).setMagicItem(o)}},t}(s)).prototype,"bubblePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Cannon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncHelper.ts","./CoinManager.ts","./ContactEvent.ts","./Enum.ts","./GameConstant.ts","./StaticInstance.ts"],(function(n){"use strict";var e,t,o,a,i,r,c,u,s,d,l,p,f,m,g,C,y,h;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.find,i=n.Animation,r=n.BoxCollider2D,c=n.CircleCollider2D,u=n.RigidBody2D,s=n.PHYSICS_2D_PTM_RATIO},function(n){d=n.AsyncHelper},function(n){l=n.default},function(n){p=n.default},function(n){f=n.NodePath,m=n.EnemyName,g=n.GameMode},function(n){C=n.GameContants,y=n.ColliderMap},function(n){h=n.StaticInstance}],execute:function(){var v;t._RF.push({},"890f9yVdMNAgr8YHSbLk4pS","Cannon",void 0);var M=o.ccclass;o.property,n("default",M("Cannon")(v=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onLoad=function(){var n=this;this.node.on("in",(function(e){var t=e.self,o=e.other;if(e.isPhy&&o.group===C.getColliderGroup(y.enemy)){o.node.parent.getComponent("Enemy").speed=0,a(f.MusicManager).emit("impack");var u=o.node.getComponent(i);null!=u?(u.play("burn"),u.on("finished",(function(){o.node.parent.parent.destroy()}))):console.error("anim null: ",o.node),d.getInstance().ExecuteInUpdate((function(){o.node.getComponent(r).enabled=!1})),d.getInstance().ExecuteInUpdate((function(){t.node.removeComponent(c)}),n);var s=t.node.getComponent(i);s.play("boom"),s.on("finished",(function(){t.node&&t.node.destroy()}));var p=o.node.parent;p.name==m.Darkguy?a(f.BubbleManager).emit("build",o.node):p.name==m.Thief?d.getInstance().ExecuteInUpdate((function(){a(f.CoinManager).getComponent(l).buildCoinByBox(o.node)}),n):d.getInstance().ExecuteInUpdate((function(){a(f.CoinManager).getComponent(l).buildCoin(o.node)})),h.gameManager.getGameMode()===g.Fight&&h.uiManager.accTimerNum(2)}}))},o.forcePush=function(n,e){var t=this.node.getComponent(u),o=t.linearVelocity;this.scheduleOnce((function(){o.x=n/s,o.y=e/s,t.linearVelocity=o}),0)},t}(p))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/CannonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./Cannon.ts","./CommonUtil.ts"],(function(n){"use strict";var t,e,i,o,r,a,c,h,l,s,u,f,p,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Prefab,h=n.Node,l=n.instantiate,s=n.find,u=n.Component},function(n){f=n.NodePath},function(n){p=n.default},function(n){d=n.getRandom}],execute:function(){var g,v,b,m,y,C,k,D,P;r._RF.push({},"6e1a89Uft1GUodj2Eg4O6V5","CannonManager",void 0);var S=a.ccclass,I=a.property;n("default",(g=S("CannonManager"),v=I(c),b=I(h),m=I(h),g((k=t((C=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"cannonPrefab",k,o(t)),i(t,"cannonLeft",D,o(t)),i(t,"cannonRight",P,o(t)),t.isShoot=!1,t.duration=20,t.checkDuration=0,t.interval=1,t.checkInterval=0,t}e(t,n);var r=t.prototype;return r.update=function(n){this.isShoot&&(this.checkDuration+=n,this.checkDuration>this.duration&&(this.checkDuration=0,this.isShoot=!1),this.checkInterval+=n,this.checkInterval>this.interval&&(this.checkInterval=0,this.buildCannon()))},r.shootStart=function(){this.isShoot=!0,this.checkDuration=0,this.checkInterval=0},r.shootEnd=function(){this.isShoot=!1,this.node.getChildByName("left").removeAllChildren(),this.node.getChildByName("right").removeAllChildren()},r.buildCannon=function(){var n=d(1,2),t=l(this.cannonPrefab);t.parent=1==n?this.cannonLeft:this.cannonRight;var e=1==n?d(100,250):d(-100,-250),i=d(100,300);t.getComponent(p).forcePush(e,i),s(f.MusicManager).emit("cannon_fire")},t}(u)).prototype,"cannonPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"cannonLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"cannonRight",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ClickUtil.ts",["cc"],(function(c){"use strict";var t,n,e;return{setters:[function(c){t=c.cclegacy,n=c.tween,e=c.Vec3}],execute:function(){t._RF.push({},"74480UqXJpPTqpTQQXKZx5j","ClickUtil",void 0);c("ClickUtil",function(){function c(){}return c.clickDownTween=function(c){c&&n(c).to(.1,{scale:new e(.9,1,1)}).start()},c.clickUpTween=function(c,t){c&&n(c).to(.1,{scale:new e(1,1,1)}).call((function(){t&&t()})).start()},c.changeScale=function(c,t,n){var i=c.scale.clone();i.add(new e(t,t,0)),c.scale=i,setTimeout((function(){n&&n()}),200)},c}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ContactEvent.ts","./Enum.ts","./GameConstant.ts","./StaticInstance.ts"],(function(n){"use strict";var t,e,o,i,r,a,c,s,l,u,d,h,p;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.Animation,r=n.RigidBody2D,a=n.find,c=n.CircleCollider2D,s=n.PHYSICS_2D_PTM_RATIO},function(n){l=n.default},function(n){u=n.NodePath},function(n){d=n.GameContants,h=n.ColliderMap},function(n){p=n.StaticInstance}],execute:function(){var f;e._RF.push({},"a76e2U4K7NMHqUOQHElWpFF","Coin",void 0);var y=o.ccclass;o.property,n("default",y("Coin")(f=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).anim=null,t.rb=null,t}t(e,n);var o=e.prototype;return o.onLoad=function(){var n=this;this.anim=this.node.getComponent(i),this.rb=this.node.getComponent(r),this.rb.enabledContactListener=!0,this.node.on("in",(function(t){var e=t.other;t.isPhy;if(e.group===d.getColliderGroup(h.player)){a(u.MusicManager).emit("collect"),n.anim.play("collect");var o=n.node.getComponent(c);o&&o.destroy(),p.gameManager.setCoin(1),n.anim.on("finished",(function(){n.node.parent&&n.node.parent.destroy()}))}})),this.scheduleOnce((function(){n.node.parent&&n.node.parent.destroy()}),5)},o.forcePush=function(n,t){var e=this,o=this.rb.linearVelocity;this.scheduleOnce((function(){o.x=n/s,o.y=t/s,e.rb.linearVelocity=o}),0)},e}(l))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/CoinManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Coin.ts","./CommonUtil.ts"],(function(n){"use strict";var o,e,i,t,r,a,s,u,c,l,d,f,p;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Prefab,u=n.Node,c=n.instantiate,l=n.Component},function(n){d=n.default},function(n){f=n.getTargetPositionByAB,p=n.getRandom}],execute:function(){var b,C,h,v,y;r._RF.push({},"d2db9MnjWFCqIOt0FgkPEfQ","CoinManager",void 0);var m=a.ccclass,P=a.property;n("default",(b=m("CoinManager"),C=P(s),b((y=o((v=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,i(o,"coinPrefab",y,t(o)),o}e(o,n);var r=o.prototype;return r.onLoad=function(){var n=this;this.node.on("build",(function(o){n.buildCoin(o)})),this.node.on("buildByCombo",(function(o){n.buildCoinByCombo(o)})),this.node.on("buildByBox",(function(o){n.buildCoinByBox(o)})),this.node.on("clear",(function(){n.node.removeAllChildren()}))},r.buildCoin=function(n){var o=new u;o.parent=this.node,o.name="CoinNode";var e=c(this.coinPrefab);e.parent=o;var i=f(e,n);e.setWorldPosition(i)},r.buildCoinByCombo=function(n){var o=new u;o.parent=this.node,o.name="CoinNode",o.setPosition(p(10,120),p(0,100));for(var e=0;e<n;e++){var i=c(this.coinPrefab);i.parent=o,i.getComponent(d).forcePush(p(-150,150),p(-50,50))}},r.buildCoinByBox=function(n){var o=new u;o.parent=this.node,o.name="CoinNode";for(var e=0;e<5;e++){var i=c(this.coinPrefab);i.parent=o;var t=f(i,n);i.setWorldPosition(t),i.getComponent(d).forcePush(p(-150,150),p(-50,50))}},o}(l)).prototype,"coinPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/CommonUtil.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t({PrefixZero:function(t,r){return(Array(r).join("0")+t).slice(-r)},getArrayItemById:function(t,r){return t.find((function(t){return t.id==r}))},getDistance:function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},getRandom:function(t,r){return Math.floor(Math.random()*(r-t+1))+t},getTargetPositionByAB:function(t,r){return r.getWorldPosition()},isArrayMixed:function(t,r){return r.filter((function(r){return-1!==t.indexOf(r)})).length>0},trim:function(t,r){var n=/^\s+|\s+$/g;switch(r){case"left":n=/^\s+/g;break;case"right":n=/\s+$/g;break;case"both":n=/^\s+|\s+$/g;break;case"all":n=/\s+/g}return t.replace(n,"")}}),r._RF.push({},"45f42j46fxD4KWTqKZYGhiw","CommonUtil",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"cbb91NuZHNLTocLAcwOXhsI","Config",void 0);e("default",{magics:[{id:0,name:"MG_slowdown"},{id:1,name:"MG_speedup"},{id:2,name:"MG_cannon"},{id:3,name:"MG_bolt"},{id:4,name:"MG_extralife"},{id:5,name:"MG_frog"},{id:6,name:"MG_hole"},{id:7,name:"MG_dragon"}]});n._RF.pop()}}}));

System.register("chunks:///_virtual/ContactEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,c,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,c=t.Collider2D,i=t.Contact2DType,r=t.Component}],execute:function(){var s;o._RF.push({},"29b684YVgJDlrehwpH91xK0","ContactEvent",void 0);var a=e.ccclass;e.property,t("default",a("ContactEvent")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){var t=this.getComponent(c);t&&(t.on(i.BEGIN_CONTACT,this.onBeginContact,this),t.on(i.END_CONTACT,this.onEndContact,this))},e.onBeginContact=function(t,n,o){t.node.emit("in",{self:t,other:n,contact:o,isPhy:!0}),console.log(t.node.name+" vs "+n.node.name)},e.onEndContact=function(t,n,o){t.node.emit("out",{self:t,other:n,contact:o,isPhy:!0})},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ControlPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureMgr.ts","./UIBase.ts"],(function(e){"use strict";var t,i,o,n,r,a,s,u,h,c,l,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Graphics,u=e.Camera,h=e.Node,c=e.Vec3,l=e.view},function(e){p=e.GestureMgr},function(e){d=e.default}],execute:function(){var g,T,f,y,v,w,C,M;r._RF.push({},"c6e73hT7hpLC4VCUYxQhbui","ControlPanel",void 0);var m=a.ccclass,b=a.property;e("default",(g=m("ControlPanel"),T=b(p),f=b(s),g((w=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"gestureMgr",w,n(t)),o(t,"drawNode",C,n(t)),o(t,"accuracy",M,n(t)),t.path=[],t.basetime=0,t.uiManager=null,t.uiCamera=null,t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this)},r.show=function(){e.prototype.show.call(this),this.drawNode.clear(),this.uiManager.onPlayerSpell(!1)},r.init=function(e){this.uiManager=e,this.uiCamera=this.uiManager.node.getChildByPath("UICamera").getComponent(u),this.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.getTouchPoint=function(e){var t=this.uiCamera.screenToWorld(new c(e.getLocationX(),e.getLocationY()));return this.uiCamera.convertToUINode(t,this.node)},r.addPoint=function(e,t){var i=Date.now()-this.basetime,o=l.getVisibleSize().width,n=l.getVisibleSize().height;e/=o,t=(n-t)/n;var r=this.gestureMgr.newPoint(e,t,i);this.path.push(r)},r.onTouchStart=function(e){e.propagationStopped=!0;var t=this.getTouchPoint(e),i=[t.x,t.y],o=i[0],n=i[1];this.drawNode.moveTo(o,n),this.path=[],this.basetime=Date.now(),this.addPoint(o,n);var r=new c(e.getLocationX(),e.getLocationY());this.uiManager.onPlayerMove(this.uiCamera.screenToWorld(r)),this.uiManager.onPlayerSpell(!0)},r.onTouchMove=function(e){e.propagationStopped=!0;var t=this.getTouchPoint(e),i=[t.x,t.y],o=i[0],n=i[1];this.drawNode.lineTo(o,n),this.drawNode.stroke(),this.drawNode.moveTo(o,n),this.addPoint(o,n)},r.onTouchEnd=function(e){e.propagationStopped=!0,this.basetime=null;var t=this.gestureMgr.newGesture(this.path),i=this.gestureMgr.recognize(t);this.uiManager.onBallonCheck(i),this.drawNode.clear(),this.uiManager.onPlayerSpell(!1)},t}(d)).prototype,"gestureMgr",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"drawNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"accuracy",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./GameConstant.ts","./CommonUtil.ts"],(function(e){"use strict";var t,n,o,i,r,a,l,s,c,u,f,b,h,p,d,y,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,s=e.Prefab,c=e.RigidBody2D,u=e.PHYSICS_2D_PTM_RATIO,f=e.instantiate,b=e.DistanceJoint2D,h=e.find,p=e.Component},function(e){d=e.NodePath},function(e){y=e.GameContants},function(e){m=e.getTargetPositionByAB,g=e.getRandom}],execute:function(){var v,E,P,R,A,C,B,H,L,D;r._RF.push({},"91bb1E+wG5OyIR9BB0jAwb+","Enemy",void 0);var _=a.ccclass,w=a.property;e("default",(v=_("Enemy"),E=w(l),P=w(l),R=w([s]),v((B=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"body",B,i(t)),o(t,"speed",H,i(t)),o(t,"ballonRoot",L,i(t)),o(t,"ballonPrefabArr",D,i(t)),t.dir=-1,t.rb=null,t.isHoleEffect=!1,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.rb=this.body.getComponent(c),this.speed=y.MAX_SPEED/u},r.update=function(e){this.move(e),this.isHoleEffect&&this.body&&this.onHoleEffect()},r.move=function(e){var t=this.rb.linearVelocity;t.y=this.speed*this.dir*e,this.rb.linearVelocity=t},r.forceUp=function(e,t){var n=e.linearVelocity;this.scheduleOnce((function(){n.y=t/u,e.linearVelocity=n}),0)},r.createBallon=function(e){var t=this.ballonPrefabArr.length,n=g(0,t-1),o=f(this.ballonPrefabArr[n]);this.ballonPrefabArr.splice(n,1),o.parent=this.ballonRoot;var i=o.getComponent(b);return i.connectedBody=this.rb,i.maxLength=15,3==e?i.maxLength=30:4==e?i.maxLength=35:5==e?i.maxLength=40:6==e&&(i.maxLength=50),i.enabled=!0,this.rb.enabledContactListener=!0,this.forceUp(o.getComponent(c),2),o},r.hasBallons=function(){var e=0;return this.ballonRoot.children.forEach((function(t){"broken!"!=t.name&&e++})),e>0},r.batchForceUp=function(){var e=this;this.ballonRoot.children.forEach((function(t){e.forceUp(t.getComponent(c),2)}))},r.setSpeed=function(e){void 0===e&&(e=7500),this.speed=e/u},r.getSpeed=function(){return this.speed},r.setHoleEffect=function(e){this.isHoleEffect=e},r.onHoleEffect=function(){var e=this.body.position,t=m(this.body,h(d.HoleManager));e.lerp(t,.3),this.body.setWorldPosition(e)},t}(p)).prototype,"body",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(C.prototype,"speed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7500}}),L=t(C.prototype,"ballonRoot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"ballonPrefabArr",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=C))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonUtil.ts","./Enum.ts","./StaticInstance.ts","./StorageUtil.ts","./Enemy.ts","./FirewallManager.ts","./CannonManager.ts","./SummonManager.ts","./HoleManager.ts","./GameConstant.ts"],(function(e){"use strict";var n,t,i,a,o,r,l,s,m,g,c,u,h,d,f,M,p,y,b,B,C,v,T,I,k,w,A,P,S,G;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Prefab,s=e.input,m=e.Input,g=e.KeyCode,c=e.Node,u=e.instantiate,h=e.Animation,d=e.DistanceJoint2D,f=e.find,M=e.Layers,p=e.Component},function(e){y=e.getRandom},function(e){b=e.GameMode,B=e.EnemyName,C=e.NodePath,v=e.GestureName},function(e){T=e.StaticInstance},function(e){I=e.StorageUtil},function(e){k=e.default},function(e){w=e.default},function(e){A=e.default},function(e){P=e.default},function(e){S=e.default},function(e){G=e.GameContants}],execute:function(){var N,D,E,z,F,_,x,L,R;o._RF.push({},"9c793TbWzRAyZvG+kONo/tP","EnemyManager",void 0);var H=r.ccclass,O=r.property;e("default",(N=H("EnemyManager"),D=O([l]),E=O(l),z=O(l),N((x=n((_=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,i(n,"enemyPrefabArr",x,a(n)),i(n,"potionPrefab",L,a(n)),i(n,"coinBoxPrefab",R,a(n)),n.ballonsArr=[],n.isBuild=!1,n.buildTimerInterval=1.5,n.checkBuildTimer=0,n.isFreeze=!1,n.freezeTimerInterval=5,n.checkFreezeTimer=0,n.isAllowMagic=!1,n.isBroken=!1,n.combo=0,n}t(n,e);var o=n.prototype;return o.onLoad=function(){var e=this;this.node.on("build",(function(n){n?(e.isBuild=!0,e.ballonsArr=[],e.node.removeAllChildren(),e.isAllowMagic=I.getMagics().length>0):(e.isBuild=!1,e.node.removeAllChildren())})),console.error("enemy onload"),s.on(m.EventType.KEY_DOWN,this.onKeyDown,this)},o.onKeyDown=function(e){switch(console.error("key down",e.keyCode),e.keyCode){case g.KEY_A:this.onMagicFirewall();break;case g.DIGIT_1:this.onMagicBolt();break;case g.DIGIT_2:this.onMagicCannon();break;case g.DIGIT_3:this.onMagicFirewall();break;case g.DIGIT_4:this.onMagicDragon();break;case g.DIGIT_5:this.onMagicFrog();break;case g.DIGIT_6:this.onMagicHole();break;case g.DIGIT_7:this.onMagicSlowdown();break;case g.DIGIT_8:this.onMagicSpeedup()}},o.update=function(e){if(this.isBuild){if(this.isFreeze)return this.checkFreezeTimer+=e,void(this.checkFreezeTimer>this.freezeTimerInterval&&(this.isFreeze=!1));this.checkBuildTimer+=e,this.checkBuildTimer>this.buildTimerInterval&&(this.checkBuildTimer=0,this.buildEnemy())}},o.getGameLevelByScore=function(e){var n=7500;return e>=0&&e<10?(this.freezeTimerInterval=5,T.gameManager.getGameMode()==b.Normal?(this.buildTimerInterval=2.5,n*=.5):(this.buildTimerInterval=1.3,n*=.8)):e>=10&&e<20?(this.freezeTimerInterval=5,T.gameManager.getGameMode()==b.Normal?(this.buildTimerInterval=2,n*=.8):(this.buildTimerInterval=1.3,n*=.8)):e>=20&&e<100?(this.buildTimerInterval=1.1,this.freezeTimerInterval=5,n*=1):e>=100&&e<250?(this.buildTimerInterval=1,this.freezeTimerInterval=5,n*=1.2):e>=250&&e<400?(this.buildTimerInterval=.8,this.freezeTimerInterval=6,n*=1.4):e>=400&&e<600?(this.buildTimerInterval=.75,this.freezeTimerInterval=6,n*=1.6):e>=600&&e<1e3?(this.buildTimerInterval=.6,this.freezeTimerInterval=7,n*=1.8):e>=1e3&&e<2e3?(this.buildTimerInterval=.6,this.freezeTimerInterval=7,n*=2):(this.buildTimerInterval=.5,this.freezeTimerInterval=8,n*=2.2),e%20==0&&e>0&&(this.isFreeze=!0),n},o.buildEnemy=function(){var e=T.gameManager.getScore(),n=new c;n.name="EnemyNode",n.parent=this.node,n.setPosition(y(-120,120),0);var t=y(0,100),i=this.enemyPrefabArr[0],a=2;T.gameManager.getGameMode()==b.Normal?t>=0&&t<=10?(i=this.coinBoxPrefab,a=y(1,2)):t>10&&t<=20?this.isAllowMagic&&(i=this.potionPrefab,a=1):t>20&&t<=70?(i=this.enemyPrefabArr.find((function(e){return e.name==B.Lilguy})),a=y(1,3)):t>70&&t<=80?(i=this.enemyPrefabArr.find((function(e){return e.name==B.Bigguy})),a=y(3,5)):t>80&&t<=90?(i=this.enemyPrefabArr.find((function(e){return e.name==B.Thief})),a=y(2,4)):t>90&&t<=95&&(i=this.enemyPrefabArr.find((function(e){return e.name==B.Darkguy})),a=1):t>=0&&t<=10?this.isAllowMagic&&(i=this.potionPrefab,a=1):t>10&&t<=80?(i=this.enemyPrefabArr.find((function(e){return e.name==B.Lilguy})),a=y(1,3)):t>80&&t<=85?(i=this.enemyPrefabArr.find((function(e){return e.name==B.Darkguy})),a=1):(i=this.enemyPrefabArr.find((function(e){return e.name==B.Thief})),a=y(1,3));var o=u(i);o.parent=n;for(var r=o.getComponent(k),l=0;l<a;l++){var s=r.createBallon(a);this.ballonsArr.push(s)}var m=this.getGameLevelByScore(e);r.setSpeed(m)},o.onBallonCheck=function(e){var n=this,t=T.gameManager.getMagicItem("name",e.name);t&&t.nums>0&&this.onMagicEffect(t),this.ballonsArr=this.ballonsArr.filter((function(e){return""!=e.name})),this.ballonsArr.forEach((function(t,i){if(t.name===e.name){n.isBroken=!0;var a=t.getComponent(h),o=t.parent.parent;a.play("pop"),t.name="broken!";var r=o.getComponent(k);t.getComponent(d).enabled=!1;var l=r.hasBallons();l?o.getComponent(k).batchForceUp():(f(C.MusicManager).emit("laugh"),o.layer===M.Enum.enemy?(n.combo++,o.getComponent(k).speed=0,o.getChildByName("Body").getComponent(h).play("fall"),T.gameManager.setScore(1),o.name==B.Thief&&f(C.CoinManager).emit("buildByBox",t),o.name==B.Darkguy&&f(C.BubbleManager).emit("build",t)):o.name==B.Potion?(o.getChildByName("Body").getComponent(h).play("collect"),o.getChildByName("Body").getComponent(h).on("finished",(function(){o.parent.destroy()})),n.getMagicPotion()):o.name==B.CoinBox&&(o.getChildByName("Body").getComponent(h).play("collect"),o.getChildByName("Body").getComponent(h).on("finished",(function(){o.parent.destroy()})),f(C.CoinManager).emit("buildByBox",t))),f(C.CoinManager).emit("build",t);try{a.on("finished",(function(){t&&t.destroy(),l||o.getComponent(k).setSpeed(G.DROP_SPEED)}))}catch(e){console.log(e)}}})),this.isBroken&&(this.combo>=2&&(f(C.MusicManager).emit("combo"),T.uiManager.setComboNotice(this.combo),f(C.CoinManager).emit("buildByCombo",this.combo),T.gameManager.getGameMode()==b.Fight&&T.uiManager.accTimerNum(2*this.combo)),f(C.MusicManager).emit("broken"),this.isBroken=!1,this.combo=0)},o.getMagicPotion=function(){var e=I.getMagics(),n=e.length>0?e[y(0,e.length-1)]:0;T.gameManager.setMagicItems(n,1),T.uiManager.setMagic(n,1)},o.onMagicEffect=function(e){T.gameManager.setMagicItems(e.id,-1),T.uiManager.setMagic(e.id,-1),e.name==v.MGslowdow?this.onMagicSlowdown():e.name==v.MGbolt?this.onMagicBolt():e.name==v.MGextralife?this.onMagicFirewall():e.name==v.MGcannon?this.onMagicCannon():e.name==v.MGfrog?this.onMagicFrog():e.name==v.MGspeedup?this.onMagicSpeedup():e.name==v.MGhole?this.onMagicHole():e.name==v.MGdragon&&this.onMagicDragon()},o.onMagicSlowdown=function(){f(C.MusicManager).emit("slowdown"),this.unschedule(this.onMagicSlowdownResume),T.gameManager.setGameSpeed(.5),T.uiManager.toggleMagicEffectLayer(!0,v.MGslowdow),this.scheduleOnce(this.onMagicSlowdownResume,1.5)},o.onMagicSlowdownResume=function(){T.gameManager.setGameSpeed(1),T.uiManager.toggleMagicEffectLayer(!1)},o.onMagicBolt=function(){var e=this;f(C.MusicManager).emit("bolt"),this.ballonsArr=this.ballonsArr.filter((function(e){return""!=e.name})),this.ballonsArr.forEach((function(n){e.isBroken=!0;var t=n.getComponent(h),i=n.parent.parent;t.play("pop"),n.name="broken!",n.getComponent(d).enabled=!1,i.layer==M.Enum.enemy?(i.getComponent(k).speed=0,i.getChildByName("Body").getComponent(h).play("thunderstruck"),T.gameManager.setScore(1),i.name==B.Thief&&f(C.CoinManager).emit("buildByBox",n),i.name==B.Darkguy&&f(C.BubbleManager).emit("build",n)):i.name==B.Potion?(i.getChildByName("Body").getComponent(h).play("collect"),i.getChildByName("Body").getComponent(h).on("finished",(function(){i.parent.destroy()})),e.getMagicPotion()):i.name==B.CoinBox&&(i.getChildByName("Body").getComponent(h).play("collect"),i.getChildByName("Body").getComponent(h).on("finished",(function(){i.parent.destroy()})),f(C.CoinManager).emit("buildByBox",n)),f(C.CoinManager).emit("build",n),t.on("finished",(function(){n&&n.destroy(),i.getComponent(k).setSpeed(G.DROP_SPEED)}))})),this.isBroken&&(f(C.MusicManager).emit("broken"),this.isBroken=!1,T.gameManager.getGameMode()==b.Fight&&T.uiManager.accTimerNum(5))},o.onMagicFirewall=function(){f(C.MusicManager).emit("fire"),f(C.FirewallManager).getComponent(w).setLife(5)},o.onMagicCannon=function(){f(C.CannonManager).getComponent(A).shootStart()},o.onMagicFrog=function(){f(C.MusicManager).emit("frog"),this.ballonsArr=this.ballonsArr.filter((function(e){return""!=e.name})),this.ballonsArr.forEach((function(e){var n=e.parent.parent;n.layer==M.Enum.enemy&&(n.getComponent(k).setSpeed(100),n.getChildByName("Body").getComponent(h).play("frog_idle"))}))},o.onMagicSpeedup=function(){var e=this;f(C.MusicManager).emit("speedup"),this.ballonsArr=this.ballonsArr.filter((function(e){return""!=e.name})),this.ballonsArr.forEach((function(n){e.isBroken=!0;var t=n.getComponent(h),i=n.parent.parent;if(t.play("pop"),n.name="broken!",n.getComponent(d).enabled=!1,i.layer==M.Enum.enemy)i.getComponent(k).speed=0,i.getChildByName("Body").getComponent(h).play("fall"),T.gameManager.setScore(1),i.name==B.Thief&&f(C.CoinManager).emit("buildByBox",n),i.name==B.Darkguy&&f(C.BubbleManager).emit("build",n);else if(i.name==B.Potion)i.getChildByName("Body").getComponent(h).play("collect"),i.getChildByName("Body").getComponent(h).on("finished",(function(){i.parent.destroy()})),e.getMagicPotion();else if(i.name==B.CoinBox){i.getChildByName("Body").getComponent(h).play("collect"),i.getChildByName("Body").on("finished",(function(){i.parent.destroy()})),f(C.CoinManager).emit("buildByBox",n)}f(C.CoinManager).emit("build",n),t.on("finished",(function(){n&&n.destroy(),i.getComponent(k).setSpeed(5e5)}))})),this.isBroken&&(f(C.MusicManager).emit("broken"),this.isBroken=!1,T.gameManager.getGameMode()==b.Fight&&T.uiManager.accTimerNum(5))},o.onMagicHole=function(){f(C.MusicManager).emit("woosh"),f(C.HoleManager).getComponent(S).holeStart()},o.onMagicDragon=function(){f(C.MusicManager).emit("dragon_roar"),f(C.SummonManager).getComponent(P).buildOne()},n}(p)).prototype,"enemyPrefabArr",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(_.prototype,"potionPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(_.prototype,"coinBoxPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=_))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(a){"use strict";var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){var n,o,t,r,i;a({EnemyName:void 0,GameMode:void 0,GestureName:void 0,NodePath:void 0,UIType:void 0}),e._RF.push({},"0e11a//a8hL9pSBO0v0JrYY","Enum",void 0),function(a){a[a.StartPanel=0]="StartPanel",a[a.ControlPanel=1]="ControlPanel",a[a.LoadingPanel=2]="LoadingPanel",a[a.ShopPanel=3]="ShopPanel",a[a.MorePanel=4]="MorePanel",a[a.RankPanel=5]="RankPanel",a[a.SettingPanel=6]="SettingPanel",a[a.GameContentPanel=7]="GameContentPanel",a[a.PausePanel=8]="PausePanel",a[a.OverPanel=9]="OverPanel"}(n||(n=a("UIType",{}))),function(a){a.MusicManager="Canvas/MusicManager",a.GameManager="Canvas/GameManager",a.UIManager="Canvas/UIManager",a.WechatManager="Canvas/WechatManager",a.ToastManager="Canvas/ToastManager",a.EnemyManager="Canvas/GameManager/EnemyRoot",a.CoinManager="Canvas/GameManager/CoinRoot",a.BubbleManager="Canvas/GameManager/BubbleRoot",a.FirewallManager="Canvas/GameManager/BG/FirewallRoot",a.CannonManager="Canvas/GameManager/BG/CannonRoot",a.HoleManager="Canvas/GameManager/BG/HoleRoot",a.SummonManager="Canvas/GameManager/SummonRoot"}(o||(o=a("NodePath",{}))),function(a){a.Normal="normal",a.Fight="fight"}(t||(t=a("GameMode",{}))),function(a){a.Lilguy="Lilguy",a.Bigguy="Bigguy",a.Darkguy="Darkguy",a.Thief="Thief",a.Potion="Potion",a.CoinBox="CoinBox"}(r||(r=a("EnemyName",{}))),function(a){a.C="C",a.Delta="Delta",a.Eight="Eight",a.Gamma="Gamma",a.HorizLine="HorizLine",a.InvC="InvC",a.Loop="Loop",a.P1="P1",a.P2="P2",a.P3="P3",a.V="V",a.VertLine="VertLine",a.Z="Z",a.MGslowdow="MG_slowdown",a.MGbolt="MG_bolt",a.MGextralife="MG_extralife",a.MGcannon="MG_cannon",a.MGfrog="MG_frog",a.MGspeedup="MG_speedup",a.MGhole="MG_hole",a.MGdragon="MG_dragon"}(i||(i=a("GestureName",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/Firewall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncHelper.ts","./CoinManager.ts","./ContactEvent.ts","./Enum.ts","./GameConstant.ts","./StaticInstance.ts"],(function(e){"use strict";var n,t,a,o,i,r,c,s,u,l,d,f,p,g,m;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,o=e.find,i=e.Animation,r=e.BoxCollider2D},function(e){c=e.AsyncHelper},function(e){s=e.default},function(e){u=e.default},function(e){l=e.NodePath,d=e.EnemyName,f=e.GameMode},function(e){p=e.GameContants,g=e.ColliderMap},function(e){m=e.StaticInstance}],execute:function(){var h;t._RF.push({},"0a88becmBBLTK/tLsg54398","Firewall",void 0);var y=a.ccclass;a.property,e("default",y("Firewall")(h=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).life=0,n}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.node.on("in",(function(n){var t=n.other;n.isPhy;if(t.group===p.getColliderGroup(g.enemy)){var a=t.node.parent.getComponent("Enemy");if(a.hasBallons()){a.speed=0,o(l.MusicManager).emit("impack");var u=t.node.getComponent(i);u.play("burn"),t.node.getComponent(r).enabled=!1,u.on("finished",(function(){t.node.parent.parent.destroy()}));var h=t.node.parent;h.name==d.Darkguy?o(l.BubbleManager).emit("build",t.node):h.name==d.Thief?c.getInstance().ExecuteInUpdate((function(){o(l.CoinManager).getComponent(s).buildCoinByBox(t.node)})):c.getInstance().ExecuteInUpdate((function(){o(l.CoinManager).getComponent(s).buildCoin(t.node)})),e.life--,e.setFireWallLife(e.life),m.gameManager.getGameMode()==f.Fight&&m.uiManager.accTimerNum(2)}}}))},a.setFireWallLife=function(e){c.getInstance().ExecuteInUpdate(function(){this.node.active=e>0}.bind(this)),this.life=e},t}(u))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/FirewallManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Firewall.ts"],(function(e){"use strict";var t,r,n,i,l;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,i=e.Component},function(e){l=e.default}],execute:function(){var a;r._RF.push({},"8f65dV++URJE4oNgFaF2yGn","FirewallManager",void 0);var o=n.ccclass;n.property,e("default",o("FirewallManager")(a=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).firewallScript=null,t}t(r,e);var n=r.prototype;return n.onLoad=function(){this.firewallScript=this.node.getChildByName("Firewall").getComponent(l)},n.setLife=function(e){this.firewallScript.setFireWallLife(e)},r}(i))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameConstant.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){var o;n("ColliderMap",void 0),e._RF.push({},"deb764BVFBOKpMv8ViWXsZm","GameConstant",void 0),function(n){n[n.default=0]="default",n[n.ui=1]="ui",n[n.player=2]="player",n[n.enemy=3]="enemy",n[n.ground=4]="ground",n[n.wall=5]="wall",n[n.ballon=6]="ballon",n[n.area=7]="area",n[n.coin=8]="coin",n[n.potion=9]="potion",n[n.firewall=10]="firewall",n[n.cannon=11]="cannon",n[n.hole=12]="hole",n[n.summon=13]="summon"}(o||(o=n("ColliderMap",{})));var t=n("GameContants",function(){function n(){}return n.getColliderGroup=function(n){return Math.pow(2,n)},n}());t.MAX_SPEED=5e3,t.DROP_SPEED=3e4,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameContentPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./ClickUtil.ts","./UIBase.ts"],(function(e){"use strict";var t,i,n,a,o,r,c,l,s,u,f,g,m,p,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Node,l=e.Prefab,s=e.Label,u=e.find,f=e.instantiate,g=e.Animation},function(e){m=e.NodePath},function(e){p=e.StaticInstance},function(e){h=e.ClickUtil},function(e){b=e.default}],execute:function(){var d,y,v,C,L,B,P,T,w,N,R,M,I,z,S,A,k;o._RF.push({},"046cfjMVGhJH6fRHk4zCncv","GameContentPanel",void 0);var U=r.ccclass,_=r.property;e("default",(d=U("GameContentPanel"),y=_(c),v=_(c),C=_(l),L=_(s),B=_(c),P=_([l]),T=_(s),d((R=t((N=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pauseBtn",R,a(t)),n(t,"comboRoot",M,a(t)),n(t,"comboPrefab",I,a(t)),n(t,"coinLabel",z,a(t)),n(t,"magicRoot",S,a(t)),n(t,"magicPrefabArr",A,a(t)),n(t,"timerLabel",k,a(t)),t.scoreLabel=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.scoreLabel=u(m.GameManager+"/BG/score").getComponent(s)},o.show=function(){e.prototype.show.call(this),this.coinLabel.string="0",this.scoreLabel.string=p.gameManager.getScore(),p.gameManager.getMagicItems().length<=0&&this.magicRoot.removeAllChildren()},o.init=function(e){var t=this,i=c.EventType,n=i.TOUCH_START,a=i.TOUCH_CANCEL,o=i.TOUCH_END;this.pauseBtn.on(n,(function(){u(m.MusicManager).emit("click"),h.clickDownTween(t.pauseBtn)}),this),this.pauseBtn.on(o,(function(){h.clickUpTween(t.pauseBtn,(function(){e.gamePause()}))}),this),this.pauseBtn.on(a,(function(){h.clickUpTween(t.pauseBtn,(function(){e.gamePause()}))}),this)},o.setComboNotice=function(e){this.comboRoot.removeAllChildren();var t=f(this.comboPrefab);t.getChildByName("num").getComponent(s).string=""+e,t.parent=this.comboRoot;var i=t.getComponent(g);i.off("finished"),i.play("idle"),i.on("finished",(function(){t&&t.destroy()}))},o.setCoin=function(e){var t=this.coinLabel.string,i=parseInt(t)+e;this.coinLabel.string=""+i},o.setScore=function(e){var t=this.scoreLabel.string,i=parseInt(t)+e;this.scoreLabel.string=""+i},o.setMagic=function(e,t){var i="MagicItem"+e,n=this.magicRoot.children.findIndex((function(e){return e.name==i}));if(n>=0){var a=this.magicRoot.children[n],o=a.getChildByName("num").getComponent(s),r=parseInt(o.string)+t;if(r<=0)return void a.destroy();o.string=""+r}else{if(t<=0)return;var c=f(this.magicPrefabArr[e]);c.name=i,c.parent=this.magicRoot}},o.toggleMagicEffectLayer=function(e,t){this.node.getChildByName("MagicEffect").active=e},o.toggleVSLayer=function(e){var t=this.node.getChildByName("VSLayer");t.active=e,e&&(this.timerLabel.string="60",t.getChildByName("Tip").active=!0)},o.toggleTimerTip=function(e){var t=this.node.getChildByName("VSLayer");t.active&&(t.getChildByName("Tip").active=e)},o.accTimerNum=function(e){if(this.node.getChildByName("VSLayer").active){var t=parseInt(this.timerLabel.string);t+=e,this.timerLabel.string=""+t}},t}(b)).prototype,"pauseBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"comboRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"comboPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"coinLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"magicRoot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"magicPrefabArr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(N.prototype,"timerLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./StorageUtil.ts","./Config.ts","./Player.ts","./EnemyManager.ts","./CannonManager.ts","./FirewallManager.ts","./HoleManager.ts","./SummonManager.ts"],(function(e){"use strict";var a,t,n,o,i,r,s,g,u,c,m,l,d,h,M,f,p,C,y,D,G,P,S,I,w,b;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,s=e.PhysicsSystem2D,g=e.Vec2,u=e.EPhysics2DDrawFlags,c=e.find,m=e.director,l=e.game,d=e.Game,h=e.Component},function(e){M=e.GameMode,f=e.NodePath,p=e.UIType},function(e){C=e.StaticInstance},function(e){y=e.StorageUtil},function(e){D=e.default},function(e){G=e.default},function(e){P=e.default},function(e){S=e.default},function(e){I=e.default},function(e){w=e.default},function(e){b=e.default}],execute:function(){var v,R,E,B;i._RF.push({},"a801aDWmCBI/YqhhRu3fL6v","GameManager",void 0);var U=r.ccclass,T=r.property;e("default",U("GameManager")((E=a((R=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=e.call.apply(e,[this].concat(i))||this,n(a,"physicsManagerDebug",E,o(a)),n(a,"collisionManagerDebug",B,o(a)),a.curGameData={magicItemsInGame:[],score:0,isReward:!1,mode:M.Normal},a}t(a,e);var i=a.prototype;return i.onLoad=function(){C.setGameManager(this),s.instance.gravity=new g(0,-320),s.instance.enable=!0,s.instance.debugDrawFlags=u.Joint,this.physicsManagerDebug&&(s.instance.debugDrawFlags=u.Shape|u.Joint),c(f.MusicManager).emit("bgm"),this.registerEvent()},i.registerEvent=function(){var e=this;this.node.on("share",(function(e){var a=e.msg;C.toastManager.show(a,2)})),this.node.on("reword",(function(a){var t=a.isOk,n=a.msg;e.onRewardBack(t,n)}))},i.initData=function(){this.curGameData.magicItemsInGame=[],this.curGameData.score=0,this.curGameData.isReward=!1},i.gameStart=function(e){C.uiManager.showUI([p.LoadingPanel]),this.setGameMode(e),C.uiManager.toggleVSLayer(e==M.Fight),this.node.getChildByName("EnemyRoot").emit("build",!0),this.node.getChildByName("Player").getComponent(G)._init(),C.uiManager.showUI([p.ControlPanel,p.GameContentPanel])},i.gameReload=function(e){void 0===e&&(e=!0);var a=this.node.getChildByName("EnemyRoot");a.emit("build",!1),e&&(this.initData(),this.node.getChildByName("CoinRoot").emit("clear"),a.getComponent(P).onMagicSlowdownResume(),c(f.CannonManager).getComponent(S).shootEnd(),c(f.FirewallManager).getComponent(I).setLife(0),c(f.BubbleManager).emit("clear"),c(f.HoleManager).getComponent(w).holeEnd(),c(f.SummonManager).getComponent(b).clear()),m.isPaused()&&m.resume(),this.gameStart(this.getGameMode())},i.gameExit=function(){this.initData();var e=this.node.getChildByName("EnemyRoot");e.emit("build",!1),this.node.getChildByName("CoinRoot").emit("clear"),e.getComponent(P).onMagicSlowdownResume(),c(f.CannonManager).getComponent(S).shootEnd(),c(f.FirewallManager).getComponent(I).setLife(0),c(f.BubbleManager).emit("clear"),c(f.HoleManager).getComponent(w).holeEnd(),c(f.SummonManager).getComponent(b).clear(),m.isPaused()&&m.resume(),console.log("gameExit"),C.uiManager.showUI([p.StartPanel])},i.gamePause=function(){C.uiManager.toggleUI(p.ControlPanel,!1),C.uiManager.toggleUI(p.PausePanel,!0),m.isPaused()||m.pause()},i.gameResume=function(){m.isPaused()&&m.resume(),C.uiManager.toggleUI(p.ControlPanel,!0),C.uiManager.toggleUI(p.PausePanel,!1)},i.gameOver=function(){this.curGameData.score>y.getScoreMax()&&(y.setScoreMax(this.curGameData.score),c(f.WechatManager).emit("setRankScore",this.curGameData.score)),C.uiManager.toggleUI(p.ControlPanel,!1),C.uiManager.toggleUI(p.OverPanel,!0),m.isPaused()||m.pause()},i.toggleMoreMenu=function(e){C.uiManager.toggleUI(p.MorePanel,e)},i.toggleRankMenu=function(e){C.uiManager.toggleUI(p.RankPanel,e)},i.toggleShopMenu=function(e){C.uiManager.toggleUI(p.ShopPanel,e)},i.toggleSettingMenu=function(e){C.uiManager.toggleUI(p.SettingPanel,e)},i.changeGameSound=function(e){c(f.MusicManager).emit("setSoundEnable",{enabled:e})},i.changeGameMusic=function(e){c(f.MusicManager).emit("setMusicEnable",{enabled:e})},i.onPlayerMove=function(e){this.getGameMode()==M.Fight&&C.uiManager.toggleTimerTip(!1),this.node.getChildByName("Player").getComponent(G).move(e)},i.onPlayerSpell=function(e){this.node.getChildByName("Player").getComponent(G).spell(e)},i.onBallonCheck=function(e){this.node.getChildByName("EnemyRoot").getComponent(P).onBallonCheck(e)},i.onShareApp=function(){c(f.WechatManager).emit("share")},i.onRewaredADPlay=function(){c(f.WechatManager).emit("reword")},i.onRewardBack=function(e,a){e?(this.curGameData.isReward=!0,this.gameReload(!1)):C.toastManager.show(a,2)},i.setScore=function(e){this.curGameData.score+=e,C.uiManager.setScore(e)},i.getScore=function(){return this.curGameData.score},i.setCoin=function(e){C.uiManager.setCoin(e),y.addCoin(e)},i.setMagicItems=function(e,a){var t=this.getMagicItem("id",e);if(t)t.nums+=a,t.nums<0&&(t.nums=0);else{var n=D.magics[e];n.nums=1,this.curGameData.magicItemsInGame.push(n)}},i.getMagicItems=function(){return this.curGameData.magicItemsInGame},i.getMagicItem=function(e,a){return this.getMagicItems().find((function(t){return t[e]==a}))},i.setGameSpeed=function(e){void 0===e&&(e=1),console.error("set game speed",e),l._calculateDT=function(){var a=performance.now();return l._deltaTime=a>l._startTime?(a-l._startTime)/1e3:0,l._deltaTime>d.DEBUG_DT_THRESHOLD&&(l._deltaTime=l.frameTime/1e3),l._deltaTime*=e,l._startTime=a,l._deltaTime}},i.setGameMode=function(e){this.curGameData.mode=e},i.getGameMode=function(){return this.curGameData.mode},a}(h)).prototype,"physicsManagerDebug",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=a(R.prototype,"collisionManagerDebug",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=R))||v);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./Enum.ts"],(function(e){"use strict";var t,r,i,n,a,c,o,s,u,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,o=e.Label,s=e.Component},function(e){u=e.StaticInstance},function(e){m=e.GameMode}],execute:function(){var l,p,h,f,g;a._RF.push({},"de257acbwdGAYqtY0so3r9P","GameTimer",void 0);var d=c.ccclass,y=c.property;e("default",(l=d("GameTimer"),p=y(o),l((g=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,i(t,"timerNum",g,n(t)),t.timer=1,t.checkTimer=0,t}return r(t,e),t.prototype.update=function(e){if(u.gameManager.getGameMode()==m.Fight&&(this.checkTimer+=e,this.checkTimer>this.timer)){this.checkTimer=0;var t=parseInt(this.timerNum.string);--t<0?u.gameManager.gameOver():this.timerNum.string=""+t}},t}(s)).prototype,"timerNum",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/GestureDraw.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GestureMgr.ts"],(function(e){"use strict";var t,i,r,o,n,a,s,u,h,c,l,p,d,g,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.Graphics,u=e.Label,h=e.find,c=e.Camera,l=e.Node,p=e.Vec3,d=e.view,g=e.Component},function(e){T=e.GestureMgr}],execute:function(){var v,f,w,b,m,y,C,M,N,E;n._RF.push({},"ee394Ek51lMfZ2ITnwvu8vt","GestureDraw",void 0);var D=a.ccclass,L=a.property;e("GestureDraw",(v=D("GestureDraw"),f=L(s),w=L(u),b=L(T),v((C=t((y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"drawNode",C,o(t)),r(t,"resultLab",M,o(t)),r(t,"accuracy",N,o(t)),r(t,"gestureMgr",E,o(t)),t.path=[],t.basetime=0,t.uiCamera=null,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.uiCamera=h("Canvas/UICamera").getComponent(c),this.node.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(l.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.path=[],this.basetime=0},n.getTouchPoint=function(e){var t=new p(e.getLocationX(),e.getLocationY());return this.uiCamera.convertToUINode(this.uiCamera.screenToWorld(t),this.drawNode.node)},n.addPoint=function(e,t){var i=Date.now()-this.basetime,r=d.getVisibleSize().width,o=d.getVisibleSize().height;e/=r,t=(o-t)/o;var n=this.gestureMgr.newPoint(e,t,i);this.path.push(n)},n.onTouchStart=function(e){e.propagationStopped=!0,this.drawNode.clear();var t=this.getTouchPoint(e),i=[t.x,t.y],r=i[0],o=i[1];this.drawNode.moveTo(r,o),this.path=[],this.basetime=Date.now(),this.addPoint(r,o)},n.onTouchMove=function(e){e.propagationStopped=!0;var t=this.getTouchPoint(e),i=[t.x,t.y],r=i[0],o=i[1];this.drawNode.lineTo(r,o),this.drawNode.stroke(),this.drawNode.moveTo(r,o),this.addPoint(r,o)},n.onTouchEnd=function(e){e.propagationStopped=!0,this.basetime=null;var t=this.gestureMgr.newGesture(this.path),i=this.gestureMgr.recognize(t);this.resultLab.string=i.msg},t}(g)).prototype,"drawNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(y.prototype,"resultLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(y.prototype,"accuracy",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),E=t(y.prototype,"gestureMgr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/GestureMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,o,i,s,a,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.JsonAsset,u=e.Component}],execute:function(){var c,l,g,p,f;i._RF.push({},"89d5aF/PIRN4p/XzHgLIIFO","GestureMgr",void 0);var m=s.ccclass,d=s.property;e("GestureMgr",(c=m("GestureMgr"),l=d(a),c((f=r((p=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(r,"data",f,o(r)),r._store=null,r}t(r,e);var i=r.prototype;return i.onLoad=function(){this._store=window.gestrec.GestureStore.fromJSON(this.data.json)},i.newPoint=function(e,r,t){return new window.gestrec.Point(e,r,t)},i.normalize=function(e){var r,t,n,o=Number.MAX_VALUE,i=Number.MAX_VALUE,s=0,a=0,u=e.length;for(r=0;r<u;++r)e[r].x<o&&(o=e[r].x),e[r].y<i&&(i=e[r].y),e[r].x>s&&(s=e[r].x),e[r].y>a&&(a=e[r].y);for((t=s-o)>(n=a-i)?(i-=(t-n)/2,n+=t-n):(o-=(n-t)/2,t+=n-t),r=0;r<u;++r)e[r].x=.1+.8*(e[r].x-o)/t,e[r].y=.1+.8*(e[r].y-i)/n;return e},i.newGesture=function(e){e=this.normalize(e);var r=[new window.gestrec.Stroke(e)];return new window.gestrec.Gesture(r)},i.recognize=function(e){var r=this._store.recognize(e),t={isOk:!1,name:"",msg:"Gesture Not Recognized"},n=Math.min(r.length&&r[0].score||0,100);return n>3.5?(t.isOk=!0,t.name=""+r[0].name,t.msg="gesture("+r[0].name+"), Similarity("+n.toFixed(2)+")"):(t.isOk=!1,t.name="",t.msg="Gesture Not Recognized"),t},r}(u)).prototype,"data",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/Ground.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ContactEvent.ts","./StaticInstance.ts","./Enum.ts","./GameConstant.ts"],(function(n){"use strict";var t,e,o,a,r,i,c,s,u,p;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,a=n.find,r=n.Animation},function(n){i=n.default},function(n){c=n.StaticInstance},function(n){s=n.NodePath},function(n){u=n.GameContants,p=n.ColliderMap}],execute:function(){var d;e._RF.push({},"a422ebpW5tKMqqRb++rZ/Cn","Ground",void 0);var l=o.ccclass;o.property,n("default",l("Ground")(d=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.onLoad=function(){this.node.on("in",(function(n){var t=n.other,e=n.isPhy;n.contact;if(e&&t.group===u.getColliderGroup(p.enemy))if(t.node.parent.getComponent("Enemy").hasBallons())a(s.MusicManager).emit("over"),c.gameManager.gameOver();else{a(s.MusicManager).emit("impack");var o=t.node.getComponent(r);o.play("explode"),o.on("finished",(function(){t.node.parent.parent.destroy()}))}}))},e}(i))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/Hole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoinManager.ts","./ContactEvent.ts","./EnemyManager.ts","./Enum.ts","./GameConstant.ts","./StaticInstance.ts","./Enemy.ts"],(function(t){"use strict";var e,n,o,i,a,r,s,u,c,d,l,m,f,g,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.find,a=t.Animation},function(t){r=t.default},function(t){s=t.default},function(t){u=t.default},function(t){c=t.NodePath,d=t.EnemyName,l=t.GameMode},function(t){m=t.GameContants,f=t.ColliderMap},function(t){g=t.StaticInstance},function(t){p=t.default}],execute:function(){var h;n._RF.push({},"30b75MCv4pFJ4hupctG6MwG","Hole",void 0);var C=o.ccclass;o.property,t("default",C("Hole")(h=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).duration=12,e.timer=0,e.status=!1,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.node.on("in",(function(t){var e=t.self,n=t.other,o=(t.isPhy,n.node.parent);if(o.getComponent(p).setSpeed(0),0==e.tag)o.getComponent(p).setHoleEffect(!0);else if(1==e.tag){i(c.MusicManager).emit("impack"),e.node.getChildByName("Boom").getComponent(a).play("boom");var s=i(c.CoinManager).getComponent(r),h=i(c.EnemyManager).getComponent(u);n.group===m.getColliderGroup(f.enemy)?(o.name==d.Darkguy&&i(c.BubbleManager).emit("build",n.node),o.name==d.Thief?s.buildCoinByBox(n.node):s.buildCoin(n.node)):o.name==d.Potion?(h.getMagicPotion(),s.buildCoin(n.node)):o.name==d.CoinBox&&s.buildCoinByBox(n.node),n.node.parent.parent.destroy(),g.gameManager.getGameMode()==l.Fight&&g.uiManager.accTimerNum(2)}}))},o.update=function(t){this.status&&(this.timer+=t,this.timer>this.duration&&(this.timer=0,this.status=!1,this.node.active=!1))},o.toggleHoleStatus=function(t){this.timer=0,this.status=t,this.node.active=t},n}(s))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/HoleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Hole.ts"],(function(t){"use strict";var e,o,n,r,l;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Component},function(t){l=t.default}],execute:function(){var c;o._RF.push({},"f0d09fGWaFKfJdN7lOE87+Q","HoleManager",void 0);var a=n.ccclass;n.property,t("default",a("HoleManager")(c=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).holeScript=null,e}e(o,t);var n=o.prototype;return n.onLoad=function(){this.holeScript=this.node.getChildByName("Hole").getComponent(l)},n.holeStart=function(){this.holeScript.toggleHoleStatus(!0)},n.holeEnd=function(){this.holeScript.toggleHoleStatus(!1)},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,o,n,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,a=t.tween},function(t){r=t.default}],execute:function(){var i;o._RF.push({},"86d3c7ciNRAY5+V6Nw4YIUB","LoadingPanel",void 0);var s=n.ccclass;n.property,t("default",s("LoadingPanel")(i=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this)},n.show=function(){t.prototype.show.call(this);var e=this.node.getChildByName("Label");a(e).stop(),e.angle=0,a(e).repeatForever(a(e).to(1,{angle:10}).to(2,{angle:-10})).start()},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AsyncHelper.ts","./BubbleManager.ts","./CannonManager.ts","./CoinManager.ts","./Config.ts","./ContactEvent.ts","./EnemyManager.ts","./Enum.ts","./FirewallManager.ts","./GameConstant.ts","./GameManager.ts","./HoleManager.ts","./MusicManager.ts","./StaticInstance.ts","./SummonManager.ts","./ToastManager.ts","./UIManager.ts","./WechatManager.ts","./Bubble.ts","./Cannon.ts","./Coin.ts","./Enemy.ts","./Firewall.ts","./GameTimer.ts","./Ground.ts","./Hole.ts","./Player.ts","./PotionArea.ts","./SpellArea.ts","./Summon.ts","./TempComp.ts","./TouchHandler.ts","./GestureDraw.ts","./GestureMgr.ts","./ControlPanel.ts","./GameContentPanel.ts","./LoadingPanel.ts","./MorePanel.ts","./OverPanel.ts","./PausePanel.ts","./RankPanel.ts","./SettingPanel.ts","./ShopPanel.ts","./StartPanel.ts","./UIBase.ts","./ClickUtil.ts","./CommonUtil.ts","./StorageUtil.ts","./TextDefines.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MorePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./ClickUtil.ts","./UIBase.ts"],(function(n){"use strict";var t,e,i,o,c,r,a,l,u,s,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){c=n.cclegacy,r=n._decorator,a=n.Node,l=n.find},function(n){u=n.NodePath},function(n){s=n.ClickUtil},function(n){p=n.default}],execute:function(){var f,h,d,k,T,M,b;c._RF.push({},"adda9BZYjFLM5kEWhWBIJYS","MorePanel",void 0);var g=r.ccclass,w=r.property;n("default",(f=g("MorePanel"),h=w(a),d=w(a),f((M=t((T=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return t=n.call.apply(n,[this].concat(c))||this,i(t,"backBtn",M,o(t)),i(t,"scrollViewContent",b,o(t)),t.uiManager=null,t.otherAppId=["appid-1","appid-2","appid-3"],t}e(t,n);var c=t.prototype;return c.onLoad=function(){n.prototype.onLoad.call(this)},c.show=function(){var t=this;n.prototype.show.call(this),l(u.WechatManager).emit("banner",!0);var e=a.EventType,i=e.TOUCH_START,o=e.TOUCH_CANCEL,c=e.TOUCH_END;this.scrollViewContent.children.forEach((function(n,e){n.off(i),n.off(c),n.off(o),n.on(i,(function(){l(u.MusicManager).emit("click"),s.clickDownTween(n)}),t),n.on(c,(function(){s.clickUpTween(n,(function(){l(u.WechatManager).emit("turn",t.otherAppId[e])}))}),t),n.on(o,(function(){s.clickUpTween(n)}),t)}))},c.hide=function(){n.prototype.hide.call(this),l(u.WechatManager).emit("banner",!1)},c.init=function(n){var t=this;this.uiManager=n;var e=a.EventType,i=e.TOUCH_START,o=e.TOUCH_CANCEL,c=e.TOUCH_END;this.backBtn.on(i,(function(){l(u.MusicManager).emit("click"),s.clickDownTween(t.backBtn)}),this),this.backBtn.on(c,(function(){s.clickUpTween(t.backBtn,(function(){n.toggleMoreMenu(!1)}))}),this),this.backBtn.on(o,(function(){s.clickUpTween(t.backBtn,(function(){n.toggleMoreMenu(!1)}))}),this)},t}(p)).prototype,"backBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(T.prototype,"scrollViewContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/MusicManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageUtil.ts"],(function(e){"use strict";var n,t,i,o,s,c,f,u,l,a;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,f=e.AudioClip,u=e.AudioSource,l=e.Component},function(e){a=e.StorageUtil}],execute:function(){var r,h,b,d,p,S,m,y,E,F,X,g,O;s._RF.push({},"a6cb2DbDINGGbZ3xWhKS1xo","MusicManager",void 0);var v=c.ccclass,M=c.property;e("default",(r=v("MusicManager"),h=M({type:f}),b=M({type:[f]}),d=M(u),p=M(u),r((y=n((m=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return n=e.call.apply(e,[this].concat(s))||this,i(n,"bgm",y,o(n)),i(n,"effects",E,o(n)),i(n,"musicFX",F,o(n)),i(n,"effectFX",X,o(n)),n.isSoundEnable=!0,n.isMusicEnable=!0,i(n,"sfxVolume",g,o(n)),i(n,"musicVolume",O,o(n)),n}t(n,e);var s=n.prototype;return s.onLoad=function(){this.isSoundEnable=a.getSoundEnabled(),this.isMusicEnable=a.getMusicEnabled(),this.effectFX.loop=!1,this.effectFX.volume=this.sfxVolume,this.musicFX.loop=!0,this.musicFX.volume=this.musicVolume,this.registerEvent()},s.registerEvent=function(){var e=this;this.node.on("setSoundEnable",(function(n){var t=n.enabled;e.isSoundEnable=t,a.setSoundEnabled(t)}),this),this.node.on("setMusicEnable",(function(n){var t=n.enabled;e.isMusicEnable=t,a.setMusicEnabled(t),e.node.emit("bgm")}),this),this.node.on("bgm",(function(){e.musicFX.stop(),e.isMusicEnable&&(e.musicFX.loop=!0,e.musicFX.clip=e.bgm,e.musicFX.play())}),this),this.node.on("click",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[0])}),this),this.node.on("broken",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[1])}),this),this.node.on("impack",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[2])}),this),this.node.on("spell",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[3])}),this),this.node.on("over",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[4])}),this),this.node.on("collect",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[5])}),this),this.node.on("combo",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[6])}),this),this.node.on("laugh",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[7])}),this),this.node.on("cannon_fire",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[8])}),this),this.node.on("slowdown",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[9])}),this),this.node.on("speedup",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[10])}),this),this.node.on("frog",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[11])}),this),this.node.on("bolt",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[12])}),this),this.node.on("cashier",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[13])}),this),this.node.on("fire",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[14])}),this),this.node.on("woosh",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[15])}),this),this.node.on("dragon_roar",(function(){e.isSoundEnable&&e.effectFX.playOneShot(e.effects[16])}),this)},n}(l)).prototype,"bgm",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(m.prototype,"effects",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(m.prototype,"musicFX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(m.prototype,"effectFX",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(m.prototype,"sfxVolume",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=n(m.prototype,"musicVolume",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),S=m))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/OverPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./ClickUtil.ts","./StorageUtil.ts","./UIBase.ts"],(function(t){"use strict";var n,e,i,a,r,o,c,l,u,s,h,f,g,p,B;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,c=t.Node,l=t.Label,u=t.find},function(t){s=t.NodePath,h=t.UIType},function(t){f=t.StaticInstance},function(t){g=t.ClickUtil},function(t){p=t.StorageUtil},function(t){B=t.default}],execute:function(){var d,S,b,w,y,m,v,x,M,P,U,k,z,C,E;r._RF.push({},"998ceJ9EbxJkaKMEKWoC/1P","OverPanel",void 0);var R=o.ccclass,T=o.property;t("default",(d=R("OverPanel"),S=T(c),b=T(c),w=T(c),y=T(c),m=T(l),v=T(l),d((P=n((M=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(n,"exitBtn",P,a(n)),i(n,"reloadBtn",U,a(n)),i(n,"rewardBtn",k,a(n)),i(n,"shareBtn",z,a(n)),i(n,"hisScore",C,a(n)),i(n,"curScore",E,a(n)),n}e(n,t);var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this)},r.show=function(){t.prototype.show.call(this),this.hisScore.string=""+p.getScoreMax(),this.curScore.string=f.gameManager.getScore(),this.rewardBtn.active=!f.gameManager.curGameData.isReward},r.init=function(t){var n=this,e=c.EventType,i=e.TOUCH_START,a=e.TOUCH_CANCEL,r=e.TOUCH_END;this.exitBtn.on(i,(function(){u(s.MusicManager).emit("click"),g.changeScale(n.exitBtn,-.1)}),this),this.exitBtn.on(r,(function(){g.changeScale(n.exitBtn,.1,(function(){t.gameExit(),t.toggleUI(h.StartPanel,!0)}))}),this),this.exitBtn.on(a,(function(){g.changeScale(n.exitBtn,.1,(function(){t.gameExit(),t.toggleUI(h.StartPanel,!0)}))}),this),this.reloadBtn.on(i,(function(){u(s.MusicManager).emit("click"),g.changeScale(n.reloadBtn,-.1)}),this),this.reloadBtn.on(r,(function(){g.changeScale(n.reloadBtn,.1,(function(){t.gameReload()}))}),this),this.reloadBtn.on(a,(function(){g.changeScale(n.reloadBtn,.1,(function(){t.gameReload()}))}),this),this.rewardBtn.on(i,(function(){u(s.MusicManager).emit("click"),g.changeScale(n.rewardBtn,-.1)}),this),this.rewardBtn.on(r,(function(){g.changeScale(n.rewardBtn,.1,(function(){t.onRewaredADPlay()}))}),this),this.rewardBtn.on(a,(function(){g.changeScale(n.rewardBtn,.1,(function(){t.onRewaredADPlay()}))}),this),this.shareBtn.on(i,(function(){u(s.MusicManager).emit("click"),g.changeScale(n.shareBtn,-.1)}),this),this.shareBtn.on(r,(function(){g.changeScale(n.shareBtn,.1,(function(){t.onShareApp()}))}),this),this.shareBtn.on(a,(function(){g.changeScale(n.shareBtn,.1,(function(){t.onShareApp()}))}),this)},n}(B)).prototype,"exitBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(M.prototype,"reloadBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(M.prototype,"rewardBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(M.prototype,"shareBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(M.prototype,"hisScore",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(M.prototype,"curScore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=M))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/PausePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./ClickUtil.ts","./UIBase.ts"],(function(n){"use strict";var t,e,i,a,o,c,r,u,l,s,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,c=n._decorator,r=n.Node,u=n.find},function(n){l=n.NodePath},function(n){s=n.ClickUtil},function(n){h=n.default}],execute:function(){var f,p,B,d,g,m,y,x,b;o._RF.push({},"54a58xah3xJ25WUlU1K5HiH","PausePanel",void 0);var S=c.ccclass,v=c.property;n("default",(f=S("PausePanel"),p=v(r),B=v(r),d=v(r),f((y=t((m=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t=n.call.apply(n,[this].concat(o))||this,i(t,"exitBtn",y,a(t)),i(t,"reloadBtn",x,a(t)),i(t,"resumeBtn",b,a(t)),t.soundEnabled=!0,t.musicEnabled=!0,t}e(t,n);var o=t.prototype;return o.onLoad=function(){n.prototype.onLoad.call(this)},o.show=function(){n.prototype.show.call(this)},o.init=function(n){var t=this,e=r.EventType,i=e.TOUCH_START,a=e.TOUCH_CANCEL,o=e.TOUCH_END;this.exitBtn.on(i,(function(){u(l.MusicManager).emit("click"),s.changeScale(t.exitBtn,-.1)}),this),this.exitBtn.on(o,(function(){s.changeScale(t.exitBtn,.1,(function(){n.gameExit()}))}),this),this.exitBtn.on(a,(function(){s.changeScale(t.exitBtn,.1,(function(){n.gameExit()}))}),this),this.reloadBtn.on(i,(function(){u(l.MusicManager).emit("click"),s.changeScale(t.reloadBtn,-.1)}),this),this.reloadBtn.on(o,(function(){s.changeScale(t.reloadBtn,.1,(function(){n.gameReload()}))}),this),this.reloadBtn.on(a,(function(){s.changeScale(t.reloadBtn,.1,(function(){n.gameReload()}))}),this),this.resumeBtn.on(i,(function(){u(l.MusicManager).emit("click"),s.changeScale(t.resumeBtn,-.1)}),this),this.resumeBtn.on(o,(function(){s.changeScale(t.resumeBtn,.1,(function(){n.gameResume()}))}),this),this.resumeBtn.on(a,(function(){s.changeScale(t.resumeBtn,.1,(function(){n.gameResume()}))}),this)},t}(h)).prototype,"exitBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(m.prototype,"reloadBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"resumeBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,r,l,a,s,u,c,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,s=t.Vec3,u=t.UITransform,c=t.view,p=t.Animation,d=t.Component}],execute:function(){var h,f,m,y,v,g,b;r._RF.push({},"a4b48PASqdGB6Oguba0vxjc","Player",void 0);var P,S=l.ccclass,w=l.property;!function(t){t.Idle="idle",t.Move="move",t.Spell="spell"}(P||(P={}));t("default",(h=S("Player"),f=w(a),m=w(a),h((g=e((v=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"body",g,n(e)),i(e,"ground",b,n(e)),e.anim=null,e.playerState=P.Idle,e.moveTo=s.ZERO,e}o(e,t);var r=e.prototype;return r._init=function(){var t=this.ground.worldPosition.y+.5*this.ground.getComponent(u).height-15;this.node.setWorldPosition(0,t,0),this.moveTo=new s(.5*c.getVisibleSize().width,t,this.moveTo.z)},r.onLoad=function(){this.anim=this.body.getComponent(p)},r.update=function(t){var e=this.node.getWorldPosition();Math.floor(e.x)!=Math.floor(this.moveTo.x)&&(e.lerp(this.moveTo,.08),this.node.setWorldPosition(e))},r.move=function(t){var e=this.node.getWorldPosition(),o=t.x,i=e.y;this.moveTo=new s(o,i)},r.spell=function(t){t?this.setAnimState(P.Spell):this.setAnimState(P.Idle)},r.setAnimState=function(t){this.playerState!=t&&(this.playerState=t,this.anim.play(t))},e}(d)).prototype,"body",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(v.prototype,"ground",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/PotionArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ContactEvent.ts","./GameConstant.ts"],(function(t){"use strict";var n,o,e,i,r,a,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Animation},function(t){r=t.default},function(t){a=t.GameContants,c=t.ColliderMap}],execute:function(){var s;o._RF.push({},"55e5esO8ixEd5KLVeK4hEYd","PotionArea",void 0);var u=e.ccclass;e.property,t("default",u("PotionArea")(s=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.onLoad=function(){this.node.on("in",(function(t){var n=t.other;t.isPhy;n.group===a.getColliderGroup(c.potion)&&(n.node.getComponent(i).play("collect"),n.node.getComponent(i).on("finished",(function(){n.node.parent.parent.destroy()})))}))},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/RankPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./ClickUtil.ts","./UIBase.ts"],(function(n){"use strict";var t,e,i,a,c,o,r,l,u,s,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){c=n.cclegacy,o=n._decorator,r=n.Node,l=n.find},function(n){u=n.NodePath},function(n){s=n.ClickUtil},function(n){p=n.default}],execute:function(){var f,h,k,b,d;c._RF.push({},"30e03xctS1DDoTGqxNnT3pp","RankPanel",void 0);var g=o.ccclass,y=o.property;n("default",(f=g("RankPanel"),h=y(r),f((d=t((b=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return t=n.call.apply(n,[this].concat(c))||this,i(t,"backBtn",d,a(t)),t}e(t,n);var c=t.prototype;return c.onLoad=function(){n.prototype.onLoad.call(this)},c.show=function(){n.prototype.show.call(this),l(u.WechatManager).emit("getRank"),l(u.WechatManager).emit("banner",!0)},c.hide=function(){n.prototype.hide.call(this),l(u.WechatManager).emit("banner",!1)},c.init=function(n){var t=this,e=r.EventType,i=e.TOUCH_START,a=e.TOUCH_CANCEL,c=e.TOUCH_END;this.backBtn.on(i,(function(){l(u.MusicManager).emit("click"),s.clickDownTween(t.backBtn)}),this),this.backBtn.on(c,(function(){s.clickUpTween(t.backBtn,(function(){n.toggleRankMenu(!1)}))}),this),this.backBtn.on(a,(function(){s.clickUpTween(t.backBtn,(function(){n.toggleRankMenu(!1)}))}),this)},t}(p)).prototype,"backBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=b))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./ClickUtil.ts","./StorageUtil.ts","./UIBase.ts"],(function(n){"use strict";var t,i,e,c,u,a,o,s,l,d,r,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,c=n.assertThisInitialized},function(n){u=n.cclegacy,a=n._decorator,o=n.Node,s=n.find},function(n){l=n.NodePath},function(n){d=n.ClickUtil},function(n){r=n.StorageUtil},function(n){h=n.default}],execute:function(){var b,m,f,B,g,p,E,k,v;u._RF.push({},"49a5bJAd4JMVZguar+LbQC3","SettingPanel",void 0);var y=a.ccclass,w=a.property;n("default",(b=y("SettingPanel"),m=w(o),f=w(o),B=w(o),b((E=t((p=function(n){function t(){for(var t,i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return t=n.call.apply(n,[this].concat(u))||this,e(t,"soundBtn",E,c(t)),e(t,"musicBtn",k,c(t)),e(t,"backBtn",v,c(t)),t.soundEnabled=!0,t.musicEnabled=!0,t}i(t,n);var u=t.prototype;return u.onLoad=function(){n.prototype.onLoad.call(this)},u.show=function(){n.prototype.show.call(this),s(l.WechatManager).emit("banner",!0),this.soundEnabled=r.getSoundEnabled(),this.musicEnabled=r.getMusicEnabled(),this.soundBtn.getChildByName("on").active=this.soundEnabled,this.soundBtn.getChildByName("off").active=!this.soundEnabled,this.musicBtn.getChildByName("on").active=this.musicEnabled,this.musicBtn.getChildByName("off").active=!this.musicEnabled},u.hide=function(){n.prototype.hide.call(this),s(l.WechatManager).emit("banner",!1)},u.init=function(n){var t=this,i=o.EventType,e=i.TOUCH_START,c=i.TOUCH_CANCEL,u=i.TOUCH_END;this.soundBtn.on(e,(function(){s(l.MusicManager).emit("click"),d.clickDownTween(t.soundBtn)}),this),this.soundBtn.on(u,(function(){d.clickUpTween(t.soundBtn,(function(){t.soundEnabled=!t.soundEnabled,t.soundBtn.children[0].active=t.soundEnabled,t.soundBtn.children[1].active=!t.soundEnabled,n.changeGameSound(t.soundEnabled)}))}),this),this.soundBtn.on(c,(function(){d.clickUpTween(t.soundBtn,(function(){t.soundEnabled=!t.soundEnabled,t.soundBtn.children[0].active=t.soundEnabled,t.soundBtn.children[1].active=!t.soundEnabled,n.changeGameSound(t.soundEnabled)}))}),this),this.musicBtn.on(e,(function(){s(l.MusicManager).emit("click"),d.clickDownTween(t.musicBtn)}),this),this.musicBtn.on(u,(function(){d.clickUpTween(t.musicBtn,(function(){t.musicEnabled=!t.musicEnabled,t.musicBtn.children[0].active=t.musicEnabled,t.musicBtn.children[1].active=!t.musicEnabled,n.changeGameMusic(t.musicEnabled)}))}),this),this.musicBtn.on(c,(function(){d.clickUpTween(t.musicBtn,(function(){t.musicEnabled=!t.musicEnabled,t.musicBtn.children[0].active=t.musicEnabled,t.musicBtn.children[1].active=!t.musicEnabled,n.changeGameMusic(t.musicEnabled)}))}),this),this.backBtn.on(e,(function(){s(l.MusicManager).emit("click"),d.clickDownTween(t.backBtn)}),this),this.backBtn.on(u,(function(){d.clickUpTween(t.backBtn,(function(){n.toggleSettingMenu(!1)}))}),this),this.backBtn.on(c,(function(){d.clickUpTween(t.backBtn,(function(){n.toggleSettingMenu(!1)}))}),this)},t}(h)).prototype,"soundBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(p.prototype,"musicBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(p.prototype,"backBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g));u._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./ClickUtil.ts","./StorageUtil.ts","./TextDefines.ts","./UIBase.ts"],(function(t){"use strict";var n,e,i,o,c,a,r,l,s,u,h,f,p,g,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,a=t._decorator,r=t.Node,l=t.Label,s=t.find},function(t){u=t.NodePath},function(t){h=t.StaticInstance},function(t){f=t.ClickUtil},function(t){p=t.StorageUtil},function(t){g=t.TextDefine},function(t){m=t.default}],execute:function(){var b,B,d,k,w,C,M,y,T,x,v,N,I;c._RF.push({},"bb9d5iSqHJJepDpHzhPu1A9","ShopPanel",void 0);var U=a.ccclass,S=a.property;t("default",(b=U("ShopPanel"),B=S(r),d=S(r),k=S(r),w=S(r),C=S(l),b((T=n((y=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return n=t.call.apply(t,[this].concat(c))||this,i(n,"backBtn",T,o(n)),i(n,"leftBtn",x,o(n)),i(n,"rightBtn",v,o(n)),i(n,"itemContent",N,o(n)),i(n,"coinNumLabel",I,o(n)),n.itemIndex=0,n.itemNums=0,n}e(n,t);var c=n.prototype;return c.onLoad=function(){t.prototype.onLoad.call(this)},c.show=function(){t.prototype.show.call(this),p.setCoinMax(1e4),s(u.WechatManager).emit("banner",!0),this.itemNums=this.itemContent.children.length,this.coinNumLabel.string=""+p.getCoinMax()},c.hide=function(){t.prototype.hide.call(this),s(u.WechatManager).emit("banner",!1)},c.init=function(t){var n=this,e=r.EventType,i=e.TOUCH_START,o=e.TOUCH_CANCEL,c=e.TOUCH_END;this.backBtn.on(i,(function(){s(u.MusicManager).emit("click"),f.clickDownTween(n.backBtn)}),this),this.backBtn.on(c,(function(){f.clickUpTween(n.backBtn,(function(){t.toggleShopMenu(!1)}))}),this),this.backBtn.on(o,(function(){f.clickUpTween(n.backBtn,(function(){t.toggleShopMenu(!1)}))}),this),this.leftBtn.on(i,(function(){s(u.MusicManager).emit("click"),f.clickDownTween(n.leftBtn)}),this),this.leftBtn.on(c,(function(){f.clickUpTween(n.leftBtn,(function(){n.prevNextItem("prev")}))}),this),this.leftBtn.on(o,(function(){f.clickUpTween(n.leftBtn)}),this),this.rightBtn.on(i,(function(){s(u.MusicManager).emit("click"),f.clickDownTween(n.rightBtn)}),this),this.rightBtn.on(c,(function(){f.clickUpTween(n.rightBtn,(function(){n.prevNextItem("next")}))}),this),this.rightBtn.on(o,(function(){f.clickUpTween(n.rightBtn)}),this),this.itemContent.children.forEach((function(t,e){var a=t.getChildByName("button");-1!=p.getMagic(e)&&(a.getChildByName("label").getComponent(l).string=g.Bought),a.off(i),a.off(c),a.off(o),a.on(i,(function(){s(u.MusicManager).emit("click"),f.clickDownTween(a)}),n),a.on(c,(function(){f.clickUpTween(a,(function(){var i=p.getCoinMax(),o=parseInt(t.getChildByName("price").getComponent(l).string);if(-1==p.getMagic(e))if(i>=o){s(u.MusicManager).emit("cashier");var c=i-o;p.setCoinMax(c),p.setMagic(e),n.coinNumLabel.string=""+c,a.getChildByName("label").getComponent(l).string=g.Bought}else h.toastManager.show(g.InsufficientAmount,2);else h.toastManager.show(g.Bought,2)}))}),n),a.on(o,(function(){f.clickUpTween(a)}),n)}))},c.prevNextItem=function(t){this.itemContent.children[this.itemIndex].active=!1,"prev"==t?(this.itemIndex--,this.itemIndex<0&&(this.itemIndex=this.itemNums-1)):(this.itemIndex++,this.itemIndex>=this.itemNums&&(this.itemIndex=0)),this.itemContent.children[this.itemIndex].active=!0},n}(m)).prototype,"backBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(y.prototype,"leftBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(y.prototype,"rightBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(y.prototype,"itemContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(y.prototype,"coinNumLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=y))||M));c._RF.pop()}}}));

System.register("chunks:///_virtual/SpellArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ContactEvent.ts","./Enum.ts","./GameConstant.ts"],(function(t){"use strict";var e,n,o,r,a,i,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.find},function(t){a=t.default},function(t){i=t.NodePath},function(t){s=t.GameContants,u=t.ColliderMap}],execute:function(){var l;n._RF.push({},"af8823y3ZBKgZlxxvmIJxYC","SpellArea",void 0);var c=o.ccclass;o.property,t("default",c("SpellArea")(l=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onLoad=function(){this.node.on("in",(function(t){var e=t.other;t.isPhy;e.group===s.getColliderGroup(u.enemy)&&(e.node.parent.getComponent("Enemy").hasBallons()&&r(i.MusicManager).emit("spell"))}))},n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/StartPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./ClickUtil.ts","./UIBase.ts"],(function(n){"use strict";var t,i,e,o,c,r,l,u,a,s,h,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){c=n.cclegacy,r=n._decorator,l=n.Node,u=n.find},function(n){a=n.NodePath,s=n.GameMode},function(n){h=n.ClickUtil},function(n){f=n.default}],execute:function(){var g,p,B,k,m,w,T,M,b,U,y,d,S,D,v;c._RF.push({},"6e21czJt5lAtJQAf4QJbuUB","StartPanel",void 0);var z=r.ccclass,C=r.property;n("default",(g=z("StartPanel"),p=C(l),B=C(l),k=C(l),m=C(l),w=C(l),T=C(l),g((U=t((b=function(n){function t(){for(var t,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return t=n.call.apply(n,[this].concat(c))||this,e(t,"normalBtn",U,o(t)),e(t,"fightBtn",y,o(t)),e(t,"rankBtn",d,o(t)),e(t,"moreBtn",S,o(t)),e(t,"shopBtn",D,o(t)),e(t,"settingBtn",v,o(t)),t}i(t,n);var c=t.prototype;return c.onLoad=function(){n.prototype.onLoad.call(this)},c.show=function(){n.prototype.show.call(this)},c.init=function(n){var t=this,i=l.EventType,e=i.TOUCH_START,o=i.TOUCH_CANCEL,c=i.TOUCH_END;this.normalBtn.on(e,(function(){u(a.MusicManager).emit("click"),h.clickDownTween(t.normalBtn)}),this),this.normalBtn.on(c,(function(){h.clickUpTween(t.normalBtn,(function(){n.gameStart(s.Normal)}))}),this),this.normalBtn.on(o,(function(){h.clickUpTween(t.normalBtn,(function(){n.gameStart(s.Normal)}))}),this),this.fightBtn.on(e,(function(){u(a.MusicManager).emit("click"),h.clickDownTween(t.fightBtn)}),this),this.fightBtn.on(c,(function(){h.clickUpTween(t.fightBtn,(function(){n.gameStart(s.Fight)}))}),this),this.fightBtn.on(o,(function(){h.clickUpTween(t.fightBtn,(function(){n.gameStart(s.Fight)}))}),this),this.rankBtn.on(e,(function(){u(a.MusicManager).emit("click"),h.clickDownTween(t.rankBtn)}),this),this.rankBtn.on(c,(function(){h.clickUpTween(t.rankBtn,(function(){n.toggleRankMenu(!0)}))}),this),this.rankBtn.on(o,(function(){h.clickUpTween(t.rankBtn,(function(){n.toggleRankMenu(!0)}))}),this),this.moreBtn.on(e,(function(){u(a.MusicManager).emit("click"),h.clickDownTween(t.moreBtn)}),this),this.moreBtn.on(c,(function(){h.clickUpTween(t.moreBtn,(function(){n.toggleMoreMenu(!0)}))}),this),this.moreBtn.on(o,(function(){h.clickUpTween(t.moreBtn,(function(){n.toggleMoreMenu(!0)}))}),this),this.shopBtn.on(e,(function(){u(a.MusicManager).emit("click"),h.clickDownTween(t.shopBtn)}),this),this.shopBtn.on(c,(function(){h.clickUpTween(t.shopBtn,(function(){n.toggleShopMenu(!0)}))}),this),this.shopBtn.on(o,(function(){h.clickUpTween(t.shopBtn,(function(){n.toggleShopMenu(!0)}))}),this),this.settingBtn.on(e,(function(){u(a.MusicManager).emit("click"),h.clickDownTween(t.settingBtn)}),this),this.settingBtn.on(c,(function(){h.clickUpTween(t.settingBtn,(function(){n.toggleSettingMenu(!0)}))}),this),this.settingBtn.on(o,(function(){h.clickUpTween(t.settingBtn,(function(){n.toggleSettingMenu(!0)}))}),this)},t}(f)).prototype,"normalBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(b.prototype,"fightBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(b.prototype,"rankBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(b.prototype,"moreBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(b.prototype,"shopBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(b.prototype,"settingBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=b))||M));c._RF.pop()}}}));

System.register("chunks:///_virtual/StaticInstance.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"88502MqQ4NC7r2z3/EiZAka","StaticInstance",void 0);var a=n("StaticInstance",function(){function n(){}return n.setGameManager=function(t){n.gameManager=t},n.setUIManager=function(t){n.uiManager=t},n.setToastManager=function(t){n.toastManager=t},n}());a.gameManager=null,a.uiManager=null,a.toastManager=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/StorageUtil.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t.sys}],execute:function(){e._RF.push({},"d66c0yMHLRAXYWV/xy3PsMK","StorageUtil",void 0);t("StorageUtil",function(){function t(){}return t.getScoreMax=function(){var e=n.localStorage.getItem("scoreMax");return e?JSON.parse(e):(t.setScoreMax(0),0)},t.setScoreMax=function(t){n.localStorage.setItem("scoreMax",JSON.stringify(t))},t.addCoin=function(e){var n=t.getCoinMax();n+=e,t.setCoinMax(n)},t.getCoinMax=function(){var e=n.localStorage.getItem("coinMax");return e?JSON.parse(e):(t.setCoinMax(0),0)},t.setCoinMax=function(t){n.localStorage.setItem("coinMax",JSON.stringify(t))},t.getSoundEnabled=function(){var e=n.localStorage.getItem("soundEnabled");return e?JSON.parse(e):(t.setSoundEnabled(!0),!0)},t.setSoundEnabled=function(t){n.localStorage.setItem("soundEnabled",JSON.stringify(t))},t.getMusicEnabled=function(){var e=n.localStorage.getItem("musicEnabled");return e?JSON.parse(e):(t.setMusicEnabled(!0),!0)},t.setMusicEnabled=function(t){n.localStorage.setItem("musicEnabled",JSON.stringify(t))},t.getMagics=function(){var t=n.localStorage.getItem("magicsIndex");return t?JSON.parse(t):[]},t.getMagic=function(t){var e=this.getMagics();if(e.length){var n=e.findIndex((function(e){return e==t}));if(n>=0)return e[n]}return-1},t.setMagic=function(t){var e=this.getMagics();if(e.length&&e.findIndex((function(e){return e==t}))>=0)return;e.push(t),n.localStorage.setItem("magicsIndex",JSON.stringify(e))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Summon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ContactEvent.ts","./Enum.ts","./CommonUtil.ts","./StaticInstance.ts","./CoinManager.ts","./EnemyManager.ts","./GameConstant.ts"],(function(n){"use strict";var e,o,t,i,a,r,s,l,u,d,c,m,f,g,p,y;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,i=n.tween,a=n.find,r=n.Animation},function(n){s=n.default},function(n){l=n.NodePath,u=n.EnemyName,d=n.GameMode},function(n){c=n.getTargetPositionByAB},function(n){m=n.StaticInstance},function(n){f=n.default},function(n){g=n.default},function(n){p=n.GameContants,y=n.ColliderMap}],execute:function(){var C;o._RF.push({},"fc73eYlbzlAeoh1OtlBVG1s","Summon",void 0);var h=t.ccclass;t.property,n("default",h("Summon")(C=function(n){function o(){for(var e,o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(e=n.call.apply(n,[this].concat(t))||this).life=20,e.isMoving=!1,e}return e(o,n),o.prototype.onLoad=function(){var n=this;this.node.on("in",(function(e){var o=e.other,t=e.self,s=(e.isPhy,o.node.parent);if(s.getComponent("Enemy").hasBallons())if(0==t.tag){if(!n.isMoving&&n.life>0){s.getComponent("Enemy").setSpeed(100),n.isMoving=!0;var C=t.node.worldPosition,h=c(t.node,o.node);i(t.node).to(.2,{worldPosition:h}).to(.1,{worldPosition:C}).call((function(){n.isMoving=!1})).start()}}else if(1==t.tag){n.life--,a(l.MusicManager).emit("impack"),t.node.getChildByName("Boom").getComponent(r).play("boom");var M=a(l.CoinManager).getComponent(f),v=a(l.EnemyManager).getComponent(g);if(o.group===p.getColliderGroup(y.enemy)?(s.name==u.Darkguy&&a(l.BubbleManager).emit("build",o.node),s.name==u.Thief?M.buildCoinByBox(o.node):M.buildCoin(o.node)):s.name==u.Potion?(v.getMagicPotion(),M.buildCoin(o.node)):s.name==u.CoinBox&&M.buildCoinByBox(o.node),o.node.parent.parent.destroy(),m.gameManager.getGameMode()==d.Fight&&m.uiManager.accTimerNum(2),n.life<=0){var B=t.node.getChildByName("Body").getComponent(r);B.play("vanish"),B.on("finished",(function(){t.node.parent&&t.node.parent.destroy()}))}}}))},o}(s))||C);o._RF.pop()}}}));

System.register("chunks:///_virtual/SummonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonUtil.ts"],(function(e){"use strict";var t,n,r,o,i,a,c,s,u,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Prefab,s=e.Node,u=e.instantiate,l=e.Component},function(e){p=e.getRandom}],execute:function(){var f,m,h,d,b;i._RF.push({},"83e10ebF61Oza2ekTruWAMX","SummonManager",void 0);var g=a.ccclass,v=a.property;e("default",(f=g("SummonManager"),m=v(c),f((b=t((d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"chestPrefab",b,o(t)),t}n(t,e);var i=t.prototype;return i.buildOne=function(){var e=new s;e.parent=this.node,e.name="SummonNode",e.setPosition(p(-120,120),p(-100,200)),u(this.chestPrefab).parent=e},i.clear=function(){this.node.removeAllChildren()},t}(l)).prototype,"chestPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/TempComp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r,s,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.PhysicsSystem2D,s=e.Vec2,c=e.EPhysics2DDrawFlags,i=e.Component}],execute:function(){var a;n._RF.push({},"79ed7oCJvdOrKu7Bc0exTTR","TempComp",void 0);var p=o.ccclass;o.property,e("TempComp",p("TempComp")(a=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.start=function(){r.instance.gravity=new s(0,-320),r.instance.enable=!0,r.instance.debugDrawFlags=c.Joint},o.update=function(e){},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/TextDefines.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2f239A8r/BLXamht/1fIi7S","TextDefines",void 0);var n=t("TextDefine",(function(){}));n.Bought="Bought",n.InsufficientAmount="Insufficient amount",e._RF.pop()}}}));

System.register("chunks:///_virtual/ToastManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts"],(function(t){"use strict";var n,e,s,a,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,a=t.Label,o=t.Component},function(t){i=t.StaticInstance}],execute:function(){var c;e._RF.push({},"ff5a4+7E9VCmaFwu5GsJB0W","ToastManager",void 0);var r=s.ccclass;s.property,t("default",r("ToastManager")(c=function(t){function e(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(n=t.call.apply(t,[this].concat(s))||this).msg=null,n}n(e,t);var s=e.prototype;return s.onLoad=function(){i.setToastManager(this),this.msg=this.node.children[0],this.msg.active=!1},s.show=function(t,n){var e=this;this.msg.active||(this.msg.getComponent(a).string=t,this.msg.active=!0,setTimeout((function(){e.msg.active=!1}),1e3*n))},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TouchHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,o,i,c,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Node,u=t.Component}],execute:function(){var l,s,h,p,d;i._RF.push({},"0eeffwpCI1O+L2fWVcoy2Wc","TouchHandler",void 0);var f=c.ccclass,y=c.property;t("TouchHandler",(l=f("TouchHandler"),s=y(a),l((d=e((p=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"handler",d,o(e)),e}r(e,t);var i=e.prototype;return i.start=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this)},i.onTouchStart=function(t){this.handler&&this.handler.emit("custom-touch-start",t)},e}(u)).prototype,"handler",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Component}],execute:function(){var c,u,l,h,p;r._RF.push({},"44286OErRVESb7NOcEjD4e3","UIBase",void 0);var d=s.ccclass,f=s.property;t("default",(c=d("UIBase"),u=f({displayName:"Initial hidden state"}),c((p=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"isShowInit",p,o(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.node.setPosition(0,0),this.isShowInit?this.show():this.hide()},r.show=function(){this.node.active=!0},r.hide=function(){this.node.active=!1},e}(a)).prototype,"isShowInit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=h))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./ControlPanel.ts","./GameContentPanel.ts","./LoadingPanel.ts","./MorePanel.ts","./PausePanel.ts","./RankPanel.ts","./SettingPanel.ts","./ShopPanel.ts","./StartPanel.ts","./OverPanel.ts"],(function(e){"use strict";var n,t,a,i,o,r,l,u,s,g,c,f,P,h,p,m,d,b,M,C,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Prefab,u=e.instantiate,s=e.Component},function(e){g=e.UIType},function(e){c=e.StaticInstance},function(e){f=e.default},function(e){P=e.default},function(e){h=e.default},function(e){p=e.default},function(e){m=e.default},function(e){d=e.default},function(e){b=e.default},function(e){M=e.default},function(e){C=e.default},function(e){v=e.default}],execute:function(){var S,y,w,G,R,k,z,L,I,T,E,U,A,B,D,O,x,N,_,V,F,H;o._RF.push({},"668d4Hc9CpBVb4BtcuTE4uJ","UIManager",void 0);var j=r.ccclass,J=r.property;e("default",(S=J(l),y=J(l),w=J(l),G=J(l),R=J(l),k=J(l),z=J(l),L=J(l),I=J(l),T=J(l),j((A=n((U=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,a(n,"startPanelPrefab",A,i(n)),a(n,"controlPanelPrefab",B,i(n)),a(n,"rankPanelPrefab",D,i(n)),a(n,"morePanelPrefab",O,i(n)),a(n,"shopPanelPrefab",x,i(n)),a(n,"settingPanelPrefab",N,i(n)),a(n,"loadingPanelPrefab",_,i(n)),a(n,"gameContentPanelPrefab",V,i(n)),a(n,"pausePanelPrefab",F,i(n)),a(n,"overPanelPrefab",H,i(n)),n.uiMap=new Map,n}t(n,e);var o=n.prototype;return o.onLoad=function(){c.setUIManager(this),this.initStartPanel(),this.initControlPanel(),this.initRankPanel(),this.initMorePanel(),this.initShopPanel(),this.initLoadingPanel(),this.initSettingPanel(),this.initGameContentPanel(),this.initPausePanel(),this.initOverPanel()},o.showUI=function(e,n){this.uiMap.forEach((function(n,t){e.indexOf(t)>=0?n.show():n.hide()})),n&&n()},o.toggleUI=function(e,n){var t=this.uiMap.get(e);n?t.show():t.hide()},o.currentUI=function(){var e=[];return this.uiMap.forEach((function(n,t){n.node.active&&e.push(t)})),e},o.gameStart=function(e){c.gameManager.gameStart(e)},o.gameReload=function(){c.gameManager.gameReload()},o.gameExit=function(){c.gameManager.gameExit()},o.gamePause=function(){c.gameManager.gamePause()},o.gameResume=function(){c.gameManager.gameResume()},o.toggleMoreMenu=function(e){c.gameManager.toggleMoreMenu(e)},o.toggleRankMenu=function(e){c.gameManager.toggleRankMenu(e)},o.toggleShopMenu=function(e){c.gameManager.toggleShopMenu(e)},o.toggleSettingMenu=function(e){c.gameManager.toggleSettingMenu(e)},o.changeGameSound=function(e){c.gameManager.changeGameSound(e)},o.changeGameMusic=function(e){c.gameManager.changeGameMusic(e)},o.onPlayerSpell=function(e){c.gameManager.onPlayerSpell(e)},o.onPlayerMove=function(e){c.gameManager.onPlayerMove(e)},o.onBallonCheck=function(e){c.gameManager.onBallonCheck(e)},o.onShareApp=function(){c.gameManager.onShareApp()},o.onRewaredADPlay=function(){c.gameManager.onRewaredADPlay()},o.setComboNotice=function(e){this.uiMap.get(g.GameContentPanel).setComboNotice(e)},o.setCoin=function(e){this.uiMap.get(g.GameContentPanel).setCoin(e)},o.setScore=function(e){this.uiMap.get(g.GameContentPanel).setScore(e)},o.setMagic=function(e,n){this.uiMap.get(g.GameContentPanel).setMagic(e,n)},o.accTimerNum=function(e){this.uiMap.get(g.GameContentPanel).accTimerNum(e)},o.toggleTimerTip=function(e){this.uiMap.get(g.GameContentPanel).toggleTimerTip(e)},o.toggleMagicEffectLayer=function(e,n){this.uiMap.get(g.GameContentPanel).toggleMagicEffectLayer(e,n)},o.toggleVSLayer=function(e){this.uiMap.get(g.GameContentPanel).toggleVSLayer(e)},o.initStartPanel=function(){var e=u(this.startPanelPrefab);this.node.addChild(e);var n=e.getComponent(C);n.init(this),this.uiMap.set(g.StartPanel,n)},o.initControlPanel=function(){var e=u(this.controlPanelPrefab);this.node.addChild(e);var n=e.getComponent(f);n.init(this),this.uiMap.set(g.ControlPanel,n)},o.initRankPanel=function(){var e=u(this.rankPanelPrefab);this.node.addChild(e);var n=e.getComponent(d);n.init(this),this.uiMap.set(g.RankPanel,n)},o.initMorePanel=function(){var e=u(this.morePanelPrefab);this.node.addChild(e);var n=e.getComponent(p);n.init(this),this.uiMap.set(g.MorePanel,n)},o.initShopPanel=function(){var e=u(this.shopPanelPrefab);this.node.addChild(e);var n=e.getComponent(M);n.init(this),this.uiMap.set(g.ShopPanel,n)},o.initLoadingPanel=function(){var e=u(this.loadingPanelPrefab);this.node.addChild(e);var n=e.getComponent(h);this.uiMap.set(g.LoadingPanel,n)},o.initSettingPanel=function(){var e=u(this.settingPanelPrefab);this.node.addChild(e);var n=e.getComponent(b);n.init(this),this.uiMap.set(g.SettingPanel,n)},o.initGameContentPanel=function(){var e=u(this.gameContentPanelPrefab);this.node.addChild(e);var n=e.getComponent(P);n.init(this),this.uiMap.set(g.GameContentPanel,n)},o.initPausePanel=function(){var e=u(this.pausePanelPrefab);this.node.addChild(e);var n=e.getComponent(m);n.init(this),this.uiMap.set(g.PausePanel,n)},o.initOverPanel=function(){var e=u(this.overPanelPrefab);this.node.addChild(e);var n=e.getComponent(v);n.init(this),this.uiMap.set(g.OverPanel,n)},n}(s)).prototype,"startPanelPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(U.prototype,"controlPanelPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(U.prototype,"rankPanelPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(U.prototype,"morePanelPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(U.prototype,"shopPanelPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(U.prototype,"settingPanelPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(U.prototype,"loadingPanelPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(U.prototype,"gameContentPanelPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(U.prototype,"pausePanelPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(U.prototype,"overPanelPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=U))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/WechatManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts"],(function(e){"use strict";var t,n,i,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,r=e.find,a=e.Component},function(e){s=e.NodePath}],execute:function(){var o;n._RF.push({},"da6b7wQwStDMpMIZzZhS50f","WechatManager",void 0);var d=i.ccclass;i.property,e("default",d("WechatManager")(o=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).adVideoUnitId="adunit-1",t.rewordAd=null,t.adBannerUnitId="adunit-2",t.bannerAd=null,t.adInterstitialUnitId="adunit-3",t.interstitialAd=null,t.shareMsg="舞动你的手指，施展指尖的魔法！",t.shareCloseTime=0,t.isShared=!1,t}t(n,e);var i=n.prototype;return i.onLoad=function(){var e=this;this.registerEvent(),this.passiveShare(),this.initRewordAd(),this.initBannerAd(),this.initInterstitialAd(),this.getRank(),"undefined"!=typeof wx&&wx.onShow((function(){if(r(s.MusicManager).emit("bgm"),e.isShared){e.isShared=!1;var t=(new Date).getTime();t-e.shareCloseTime>=3e3?(e.shareCloseTime=t,r(s.GameManager).emit("share",{isOk:!0,msg:"分享成功"})):(e.shareCloseTime=t,r(s.GameManager).emit("share",{isOk:!1,msg:"分享失败"}))}}))},i.registerEvent=function(){var e=this;this.node.on("reword",(function(){e.showRewordAd()}),this),this.node.on("share",(function(){e.activeShare()}),this),this.node.on("turn",(function(t){e.turnToApp(t)}),this),this.node.on("getRank",(function(){e.getRank()}),this),this.node.on("setRankScore",(function(t){e.setRankScore(t)}),this),this.node.on("banner",(function(t){e.toggleBannerAd(t)})),this.node.on("interstitial",(function(){e.showInterstitialAd()}))},i.initRewordAd=function(){"undefined"!=typeof wx&&null==this.rewordAd&&(this.rewordAd=wx.createRewardedVideoAd({adUnitId:this.adVideoUnitId}),this.rewordAd.onError((function(e){r(s.GameManager).emit("reword",{isOk:!1,msg:"加载失败"})})))},i.showRewordAd=function(){var e=this;"undefined"!=typeof wx&&this.rewordAd&&(this.rewordAd.offClose(),this.rewordAd.onClose((function(t){e.rewordAd.offClose(),t&&t.isEnded||void 0===t?r(s.GameManager).emit("reword",{isOk:!0,msg:"发放奖励"}):r(s.GameManager).emit("reword",{isOk:!1,msg:"播放中断"}),r(s.MusicManager).emit("bgm")})),this.rewordAd.show().catch((function(){e.rewordAd.load().then((function(){return e.rewordAd.show()})).catch((function(e){r(s.GameManager).emit("reword",{isOk:!1,msg:"加载失败"})}))})))},i.initBannerAd=function(){var e=this;if("undefined"!=typeof wx&&""!=this.adBannerUnitId){var t=wx.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=wx.createBannerAd({adUnitId:this.adBannerUnitId,adIntervals:10,style:{height:t.windowHeight-80,left:0,top:500,width:t.windowWidth}}),this.bannerAd.onResize((function(n){e.bannerAd.style.top=t.windowHeight-e.bannerAd.style.realHeight,e.bannerAd.style.left=t.windowWidth/2-e.bannerAd.style.realWidth/2})),this.bannerAd.onError((function(e){r(s.GameManager).emit("banner",{isOk:!1,msg:"加载失败"})})))}},i.toggleBannerAd=function(e){"undefined"!=typeof wx&&this.bannerAd&&(e?this.bannerAd.show():this.bannerAd.hide())},i.initInterstitialAd=function(){"undefined"!=typeof wx&&""!=this.adInterstitialUnitId&&null==this.interstitialAd&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:this.adInterstitialUnitId}),this.interstitialAd.onError((function(e){r(s.GameManager).emit("interstitial",{isOk:!1,msg:"加载失败"})})))},i.showInterstitialAd=function(){"undefined"!=typeof wx&&this.interstitialAd&&this.interstitialAd.show().catch((function(e){r(s.GameManager).emit("interstitial",{isOk:!1,msg:"加载失败"})}))},i.passiveShare=function(){var e=this;"undefined"!=typeof wx&&(wx.showShareMenu({success:function(e){},fail:function(e){}}),wx.onShareAppMessage((function(){return{title:e.shareMsg}})))},i.activeShare=function(){"undefined"!=typeof wx&&(this.isShared=!0,this.shareCloseTime=(new Date).getTime(),wx.shareAppMessage({title:this.shareMsg}))},i.turnToApp=function(e){"undefined"!=typeof wx&&wx.navigateToMiniProgram({appId:e})},i.setRankScore=function(e){"undefined"!=typeof wx&&wx.postMessage({event:"setScore",score:e})},i.getRank=function(){"undefined"!=typeof wx&&wx.postMessage({event:"getRank"})},n}(a))||o);n._RF.pop()}}}));
